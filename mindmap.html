<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Â§ç‰π†ËÑëÂõæ 3.0 - Ê†∏ÂøÉÂÖ≥ÈîÆËØçÈ´ò‰∫ÆÁâà</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- ECharts -->
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <!-- Google Fonts: Preconnect + Async Load -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700;900&display=swap"
        rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans SC', sans-serif;
            background-color: #020617;
            /* Darker slate-950 */
            margin: 0;
            padding: 0;
            height: 100vh;
            width: 100vw;
            overflow: hidden;
            -webkit-tap-highlight-color: transparent;
        }

        #main-container {
            width: 100%;
            height: 100%;
        }

        .control-panel {
            position: absolute;
            bottom: 30px;
            right: 20px;
            display: flex;
            flex-direction: column;
            gap: 12px;
            z-index: 100;
        }

        .btn {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: #94a3b8;
            padding: 10px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
        }

        .btn:active {
            transform: scale(0.95);
        }

        .btn.active {
            background: rgba(59, 130, 246, 0.2);
            border-color: #3b82f6;
            color: #3b82f6;
        }

        .btn-label {
            position: absolute;
            right: 50px;
            background: #1e293b;
            color: white;
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 10px;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: 0.2s;
        }

        .btn:hover .btn-label {
            opacity: 1;
            transform: translateX(-5px);
        }

        .header-title {
            position: absolute;
            top: 24px;
            left: 24px;
            z-index: 100;
            pointer-events: none;
        }

        .loading-mask {
            position: absolute;
            inset: 0;
            background: #020617;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 999;
            transition: opacity 0.5s;
        }
    </style>
</head>

<body>

    <div id="loading" class="loading-mask">
        <div class="w-16 h-16 border-4 border-blue-500/20 border-t-blue-500 rounded-full animate-spin"></div>
        <div class="text-blue-400 font-black mt-4 tracking-widest uppercase text-xs">Generating Key Anchors...</div>
    </div>

    <!-- Header -->
    <div class="header-title">
        <div class="flex items-center gap-3">
            <div class="w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center shadow-lg shadow-blue-500/20">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="white" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5" />
                </svg>
            </div>
            <div>
                <h1 class="text-xl md:text-2xl font-black text-white tracking-tight">Ê†∏ÂøÉËÄÉÁÇπËÑëÂõæ <span
                        class="text-blue-500 text-sm italic font-medium ml-1">v3.0</span></h1>
                <p id="mode-indicator" class="text-[10px] text-slate-500 font-bold uppercase tracking-widest">Ê®°ÂºèÔºöÊ∑±Â∫¶ËÉåËØµ ¬∑
                    ÂÖ≥ÈîÆËØçËÆ∞ÂøÜ</p>
            </div>
        </div>
    </div>

    <!-- Chart Container -->
    <div id="main-container"></div>

    <!-- Controls -->
    <div class="control-panel">
        <div class="btn" onclick="toggleTestMode()" id="testModeBtn">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path
                    d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" />
                <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3" />
                <line x1="12" y1="17" x2="12.01" y2="17" />
            </svg>
            <span class="btn-label">ÂºÄÂêØËá™ÊµãÊ®°Âºè</span>
        </div>
        <div class="btn" onclick="toggleLayout()" id="layoutBtn">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="12" r="3" />
                <path
                    d="M3 12h3m12 0h3M12 3v3m0 12v3M5.6 5.6l2.1 2.1m8.6 8.6l2.1 2.1M5.6 18.4l2.1-2.1m8.6-8.6l2.1-2.1" />
            </svg>
            <span class="btn-label">ÂàáÊç¢ÂæÑÂêëÂ∏ÉÂ±Ä</span>
        </div>
        <div class="btn" onclick="resetView()">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 12" />
            </svg>
            <span class="btn-label">ÈáçÁΩÆÁïåÈù¢</span>
        </div>
    </div>

    <script>
        // High-value content mapping with Keywords {k|...}
        const rawData = {
            name: "üî• Â§ç‰π†Ê†∏ÂøÉ",
            children: [
                {
                    name: "‚Ö†. ‰∫ß‰∏öÂèëÂ±ï ‚öñÔ∏è",
                    itemStyle: { color: '#3b82f6' },
                    children: [
                        {
                            name: "‚ùì IPEÂÆö‰πâ‰∏éËÆÆÈ¢ò",
                            children: [
                                {
                                    name: "‚Ä¢ {k|Ê†∏ÂøÉ}ÔºöÊîøÊ≤ª(ÊùÉÂäõ)‰∏éÁªèÊµé(Ë¥¢ÂØå)‰∫íÂä®",
                                    example: "ÂÆö‰πâÔºöÁ†îÁ©∂Âú®ÂõΩÈôÖ‰ΩìÁ≥ª‰∏≠ÔºåÂêÑÁßçÂõΩÂÆ∂Ë°å‰∏∫‰ΩìÂ¶Ç‰ΩïÈÄöËøá{k|ÊîøÊ≤ªÊâãÊÆµ}ÂàÜÈÖçË¥¢ÂØåÔºå‰ª•ÂèäÁªèÊµéÂèòËøÅÂ¶Ç‰ΩïÂèçÂ°ëÊùÉÂäõÁªìÊûÑ„ÄÇ"
                                },
                                {
                                    name: "‚Ä¢ {k|ËÆÆÈ¢ò1}ÔºöÂõΩÂÆ∂‰∏éÂ∏ÇÂú∫ÊùÉÂäõÂçöÂºà",
                                    example: "‰æãÔºö{k|ÂçäÂØº‰ΩìÁ¶Å‰ª§} (ÊîøÊ≤ªÂπ≤È¢ÑÂàÜÈÖç)"
                                },
                                {
                                    name: "‚Ä¢ {k|ËÆÆÈ¢ò2}ÔºöÂÖ®ÁêÉÁªèÊµéÊ≤ªÁêÜÊú∫Âà∂",
                                    example: "‰æãÔºö{k|WTOËßÑÂàô} (ÂõΩÈôÖÁß©Â∫èÁöÑÁª¥Êä§)"
                                },
                                {
                                    name: "‚Ä¢ {k|ËÆÆÈ¢ò3}ÔºöÂÖ®ÁêÉÂåñÁªìÊûÑÊÄß‰∏çÂπ≥Á≠â",
                                    example: "‰æãÔºö{k|‰∏≠ÂøÉ-ËæπÁºò} (ÂçóÂåóË¥´ÂØåÂ∑ÆË∑ù)"
                                },
                                {
                                    name: "‚Ä¢ {k|ËÆÆÈ¢ò4}ÔºöÂÆâÂÖ®‰∏éÁªèÊµé‰∫§Áªá",
                                    example: "‰æãÔºö{k|ËÉΩÊ∫êÊñ≠‰æõ} (Âú∞ÁºòÂÜ≤Á™ÅÂÜ≥ÂÆöÁªèÊµéË°å‰∏∫)"
                                }
                            ]
                        },
                        {
                            name: "‚ùì ÂèåÂàõÊîøÁ≠ñÂçáÁ∫ßÁâà",
                            children: [
                                {
                                    name: "‚Ä¢ ‰ºòÂåñÔºö{k|ÊîæÁÆ°Êúç} + Áü•‰∫ß‰øùÊä§",
                                    example: "Ê†∏ÂøÉÔºö{k|Èôç‰ΩéÂáÜÂÖ•Èó®Êßõ}„ÄÇÈÄöËøá„ÄêÊîæ„ÄëÁÆÄÊîøÊîæÊùÉÔºàÂáèÂÆ°ÊâπÔºâ„ÄÅ„ÄêÁÆ°„ÄëÊîæÁÆ°ÁªìÂêàÔºàÂº∫ÁõëÁÆ°Ôºâ„ÄÅ„ÄêÊúç„Äë‰ºòÂåñÊúçÂä°ÔºåÈÖçÂêà{k|Áü•‰∫ß‰øùÊä§}‰øùÈöúÂàõÊñ∞ÊùÉÁõä„ÄÇ"
                                },
                                {
                                    name: "‚Ä¢ ÊîØÊåÅÔºö{k|Á†îÂèëÊâ£Èô§} + ËûçËµÑÈôçÊú¨",
                                    example: "Êú∫Âà∂ÔºöÂà©Áî®{k|Ë¥¢Á®éÊù†ÊùÜ}ÊøÄÂèë‰ºÅ‰∏öÊÑèÊÑø„ÄÇ{k|Âä†ËÆ°Êâ£Èô§}Âç≥Á†îÂèëË¥πÊåâÊØî‰æãÔºàÂ¶Ç200%ÔºâÂú®Á®éÂâçÊâ£Èô§ÔºåÁõ¥Êé•ÊäµÊâ£Â∫îÁ∫≥Á®éÊâÄÂæóÈ¢ùÔºåÂÆûÁé∞Á≤æÂáÜÈôçÁ®é„ÄÇ"
                                },
                                {
                                    name: "‚Ä¢ Âπ≥Âè∞Ôºö{k|Â≠µÂåñÂô®} + {k|Â∑•‰∏ö‰∫íËÅîÁΩë}",
                                    example: "ËµãËÉΩÔºöÊèê‰æõ‰∏ì‰∏öÂåñ‰ºóÂàõÁ©∫Èó¥‰∏é{k|Êï∞Â≠óÂü∫Â∫ß}ÔºåÂÆûÁé∞‰∏≠Â∞è‰ºÅ‰∏ö‰∏é‰∫ß‰∏öÈìæÁöÑÊ∑±Â∫¶ÂçèÂêå„ÄÇ"
                                }
                            ]
                        },
                        {
                            name: "‚≠ê ‰∏âÂ§ßÊÑèËØÜÂΩ¢ÊÄÅ",
                            itemStyle: { color: '#f59e0b' },
                            children: [
                                {
                                    name: "‚Ä¢ {k|Áé∞ÂÆû‰∏ª‰πâ}ÔºöÈõ∂ÂíåÂçöÂºà„ÄÅÊîøÊ≤ª‰∏ªÂØº",
                                    example: "ÁêÜËß£Ôºö{k|ÂõΩÂÆ∂Ê†∏ÂøÉ}„ÄÇË¥¢ÂØåÊòØÊùÉÂäõÁöÑÂü∫Á°ÄÔºõÂÖ≥Á≥ª‰∏∫{k|ÊîøÊ≤ª‰∏ªÂØºÁªèÊµé}ÔºåÂº∫Ë∞ÉÂõΩÂÆ∂‰∏ªÊùÉ‰∏éÂØπÂ∏ÇÂú∫ÁöÑÂπ≤È¢Ñ„ÄÇ"
                                },
                                {
                                    name: "‚Ä¢ {k|Ëá™Áî±‰∏ª‰πâ}ÔºöÁªùÂØπËé∑Áõä„ÄÅÂ∏ÇÂú∫ÂÖ±Ëµ¢",
                                    example: "ÁêÜËß£Ôºö{k|Â∏ÇÂú∫Ê†∏ÂøÉ}„ÄÇÂ∏ÇÂú∫Ëá™Ë∞ÉËäÇÂèØÂÆûÁé∞ÂÖ±Ëµ¢ÔºõÂÖ≥Á≥ª‰∏∫{k|ÁªèÊµéÁõ∏ÂØπÁã¨Á´ã}ÔºåÊé®Â¥áËßÑÂàô„ÄÅÂàÜÂ∑•‰∏éËá™Áî±Âåñ„ÄÇ"
                                },
                                {
                                    name: "‚Ä¢ {k|È©¨ÂÖãÊÄù‰∏ª‰πâ}ÔºöÈò∂Á∫ßÂâ•Ââä„ÄÅÁªìÊûÑÊÄßÊùÉÂäõ",
                                    example: "ÁêÜËß£Ôºö{k|Èò∂Á∫ßÊ†∏ÂøÉ}„ÄÇÁîü‰∫ßÂäõÂÜ≥ÂÆöÁîü‰∫ßÂÖ≥Á≥ªÔºõÂÖ≥Á≥ª‰∏∫{k|ÁªèÊµéÂü∫Á°ÄÂÜ≥ÂÆö‰∏äÂ±ÇÂª∫Á≠ë}ÔºåÊâπÂà§ÂÖ®ÁêÉËµÑÊú¨Êâ©Âº†ÈÄªËæë„ÄÇ"
                                },
                                {
                                    name: "üìö {k|ËÆ∫Ëø∞Ë¶ÅÁÇπ}Ôºö‰∏âÂ§ßÊµÅÊ¥æÂØπÊØî",
                                    example: "ÂØπÊØîÁÇπÔºö1. {k|‰ª∑ÂÄºÁõÆÊ†á}ÔºàÂÆûÂäõvsÊî∂ÁõävsÂÖ¨Âπ≥ÔºâÔºõ2. {k|ÂõΩÂÆ∂‰ΩúÁî®}Ôºà‰∏ªÂØºËá¥ÂäõvsÂÆàÂ§ú‰∫∫vsÈò∂Á∫ßÂ∑•ÂÖ∑ÔºâÔºõ3. {k|ÂÖ≥ÈîÆË°å‰∏∫‰Ωì}ÔºàÂõΩÂÆ∂vs‰∏™‰∫∫/‰ºÅ‰∏övsÈò∂Á∫ßÔºâ„ÄÇ"
                                }
                            ]
                        }
                    ]
                },
                {
                    name: "‚Ö°. ÂÖ®ÁêÉÂë®Êúü ‚è∞",
                    itemStyle: { color: '#8b5cf6' },
                    children: [
                        {
                            name: "‚ùì Âë®ÊúüÂàÜÁ±ª (Êó∂Èïø)",
                            children: [
                                {
                                    name: "‚Ä¢ Âü∫Èí¶({k|Â∫ìÂ≠ò}) / Êú±Ê†ºÊãâ({k|ËÆæÂ§á}) / Â∫∑Ê≥¢({k|ÊäÄÊúØ})",
                                    example: "ÁêÜËß£ÔºöÂë®ÊúüÂµåÂ•óÂè†Âä†„ÄÇ{k|Â∫∑Ê≥¢Âë®Êúü}ÂÜ≥ÂÆö‰∫ÜÊäÄÊúØÈù©ÂëΩÁöÑÈïøËøúËµ∞Âäø„ÄÇ"
                                },
                                {
                                    name: "‚Ä¢ ÂõõÂàÜÔºö{k|Â§çËãè} ‚Üí ÁπÅËç£ ‚Üí Ë°∞ÈÄÄ ‚Üí {k|ËêßËêß}",
                                    example: "Âè£ËØÄÔºö{k|Ëãè-ÁπÅ-Ë°∞-Ëêß}„ÄÇÂ§çËãèÊòØÊñ∞ÈúÄÊ±ÇÁöÑ‰∫ßÁîüÔºåËêßÊù°ÊòØÊóß‰∫ßËÉΩÁöÑÂá∫Ê∏Ö„ÄÇ"
                                }
                            ]
                        },
                        {
                            name: "‚ùì ÁæéÊûóÊó∂ÈíüÈîöÁÇπ",
                            children: [
                                {
                                    name: "‚Ä¢ Â§çËãèÊúüÔºö{k|ËÇ°Á•®} (GDP‚Üë ÈÄöËÉÄ‚Üì)",
                                    example: "ÈÄªËæëÔºö{k|ÁõàÂà©ÂõûÂçá} + ‰º∞ÂÄºÊâ©Âº†„ÄÇ‰ΩéÈÄöËÉÄÁªô‰∫à‰∫ÜË¥ßÂ∏ÅÊîøÁ≠ñÂÆΩÊùæÁöÑÁ©∫Èó¥„ÄÇ"
                                },
                                {
                                    name: "‚Ä¢ ËøáÁÉ≠ÊúüÔºö{k|ÂïÜÂìÅ} (GDP‚Üë ÈÄöËÉÄ‚Üë)",
                                    example: "ÈÄªËæëÔºö‰∫ßËÉΩÈ•±ÂíåÊé®È´òËµÑÊ∫ê‰ª∑Ê†ºÔºåËµÑÊ∫êÁ±ªÂïÜÂìÅÊàê‰∏∫Èò≤Âæ°ÈÄöËÉÄÁöÑÊúÄ‰Ω≥ËµÑ‰∫ß„ÄÇ"
                                },
                                {
                                    name: "‚Ä¢ ÊªûËÉÄÊúüÔºö{k|Áé∞Èáë} (GDP‚Üì ÈÄöËÉÄ‚Üë)",
                                    example: "ÈÄªËæëÔºö{k|Áé∞Èáë‰∏∫Áéã}„ÄÇÂ¢ûÈïøÂÅúÊªûËÄåÁâ©‰ª∑È£ôÂçáÔºåËÇ°ÂÄ∫ÂèåÊùÄÔºåÈò≤Âæ°Ëá≥‰∏ä„ÄÇ"
                                },
                                {
                                    name: "‚Ä¢ Ë°∞ÈÄÄÊúüÔºö{k|ÂÄ∫Âà∏} (GDP‚Üì ÈÄöËÉÄ‚Üì)",
                                    example: "ÈÄªËæëÔºöÈÅøÈô©ÊÉÖÁª™ÂçáÊ∏©„ÄÇÈÄöËÉÄ‰∏ãÈôçÈ¢ÑÊúüÊé®‰ΩéÂà©ÁéáÔºåÁ°ÆÂÆöÁöÑÁ•®ÊÅØËµÑ‰∫ßÂèóÂÆ†„ÄÇ"
                                }
                            ]
                        },
                        {
                            name: "‚≠ê Â∫ìÂ≠òÂë®ÊúüÂõõÈò∂ÊÆµ",
                            itemStyle: { color: '#f59e0b' },
                            children: [
                                {
                                    name: "‚Ä¢ Ê†∏ÂøÉÔºö{k|È¢ÑÊúüÂ∑Æ} + {k|Áîü‰∫ßÊó∂Êªû}",
                                    example: "ÂÖ≥ÈîÆÔºöÁîü‰∫ßË∞ÉËäÇÊÖ¢‰∫éËÆ¢ÂçïÂèòÂåñÔºåÂØºËá¥Ëá™ÂèëÁöÑ{k|ËøáÂâ©}Êàñ{k|Áü≠Áº∫}Âæ™ÁéØ„ÄÇ"
                                },
                                {
                                    name: "‚Ä¢ Èò∂ÊÆµÔºö‰∏ªÂä®Âéª ‚Üí Ë¢´Âä®Âéª ‚Üí {k|‰∏ªÂä®Ë°•} ‚Üí Ë¢´Âä®Ë°•",
                                    example: "ÈáçÁÇπÔºöÁî±ÈúÄÊ±ÇÂõûÊöñÂ∏¶Âä®ÁöÑ{k|‰∏ªÂä®Ë°•Â∫ì}ÈÄöÂ∏∏ÊòØÁªèÊµéÂº∫Â§çËãèÁöÑÊ†áÂøó„ÄÇ"
                                },
                                {
                                    name: "‚Ä¢ ÈáçÁÇπÔºö‰∏ªÂä®Ë°•Â∫ì({k|ÁõàÂà©ÂõûÂçá}) / ‰∏ªÂä®ÂéªÂ∫ì({k|ÁõàÂà©ÊªëÂù°})",
                                    example: "Êé®ÊºîÔºö‰∏ªÂä®ÂéªÂ∫ìÂ≠òÈò∂ÊÆµÂØπÂ∫îËêßÊù°ÊúüÔºå‰ºÅ‰∏öÈôç‰ª∑Ê±ÇÂ≠òÔºåÂà©Ê∂¶Ëß¶Â∫ï„ÄÇ"
                                }
                            ]
                        }
                    ]
                },
                {
                    name: "‚Ö¢. ÊñáÁåÆÂØºËØª üìñ",
                    itemStyle: { color: '#10b981' },
                    children: [
                        {
                            name: "‚ùì ÂÖ®ÁêÉÂåñ‰∏âÊµÅÊ¥æ",
                            children: [
                                {
                                    name: "‚Ä¢ {k|Ë∂ÖÂÖ®ÁêÉÊ¥æ}ÔºöÂõΩÂÆ∂Ê∂àÂ§±",
                                    example: "ËßÇÁÇπÔºöËÆ§‰∏∫ÂÖ®ÁêÉÂ∏ÇÂú∫‰∏Ä‰ΩìÂåñ‰ΩøÂõΩÂÆ∂ËæπÁïåÂ§±ÂéªÊÑè‰πâÔºåË∑®ÂõΩËµÑÊú¨Êàê‰∏∫{k|ÁúüÂÆû‰∏ªÂÆ∞}„ÄÇ"
                                },
                                {
                                    name: "‚Ä¢ {k|ÊÄÄÁñëËÆ∫Ê¥æ}ÔºöÂõΩÂÆ∂‰∏ªÂØº",
                                    example: "ËßÇÁÇπÔºöÂÖ®ÁêÉÂåñÂè™ÊòØÈ´òÂ∫¶ÂõΩÈôÖÂåñÔºå‰∏ñÁïåÁªèÊµé‰ªçË¢´{k|Ê†∏ÂøÉÂ∑•‰∏öÂõΩ}‰∏ªÂØºÔºåÂõΩÂÆ∂ÂÆûÂäõÊú™Âáè„ÄÇ"
                                },
                                {
                                    name: "‚Ä¢ {k|ÂèòÈù©ËÆ∫Ê¥æ}ÔºöÂõΩÂÆ∂ÈáçÊûÑ",
                                    example: "ËßÇÁÇπÔºöÂõΩÂÆ∂ÊùÉÂäõÂπ∂Êú™Ê∂àÂ§±ÔºåËÄåÊòØÂú®ÈÄÇÂ∫îÂÖ®ÁêÉÂåñÁéØÂ¢É‰∏≠ÂèëÁîü{k|ËÅåËÉΩËΩ¨Âûã}‰∏éÊùÉÂäõÈáçÁªÑ„ÄÇ"
                                }
                            ]
                        },
                        {
                            name: "‚ùì ÊùÉÂäõÁª¥Â∫¶ÂØπÊØî",
                            children: [
                                {
                                    name: "‚Ä¢ ËÅîÁ≥ªÊÄßÔºö{k|Áõ¥Êé•ËµÑÊ∫êÂº∫Âà∂}",
                                    example: "ÂÆö‰πâÔºöA Âà©Áî®ÂÖ∂ÂÆûÈôÖÊã•ÊúâÁöÑÁ°¨ÂÆûÂäõÔºàÂ¶ÇÂÜõ‰∫ã„ÄÅËµÑÈáëÔºâÁõ¥Êé•Ëø´‰Ωø B ÊîπÂèòÂÖ∂ÊÑèÂøóÁöÑË°å‰∏∫„ÄÇ"
                                },
                                {
                                    name: "‚Ä¢ ÁªìÊûÑÊÄßÔºö{k|ËßÑÂàôÁéØÂ¢ÉÂ°ëÈÄ†}",
                                    example: "ÂÆö‰πâÔºöÈÄöËøáÂÜ≥ÂÆöÂõΩÈôÖËÆÆÁ®ã„ÄÅÈáëËûçËßÑÂàôÊàñ{k|Áü•ËØÜÊ†áÂáÜ}Ôºå‰ΩøÂÖ∂‰ªñË°å‰∏∫‰ΩìÂú®Êó†ÊÑèËØÜ‰∏≠ÂèóÈôê„ÄÇ"
                                },
                                {
                                    name: "‚Ä¢ ÂõõÁª¥Ôºö{k|ÂÆâÂÖ®} / {k|Áîü‰∫ß} / {k|ÈáëËûç} / {k|Áü•ËØÜ}",
                                    example: "Ê®°ÂûãÔºöËãèÁèä¬∑ÊñØÁâπÂÖ∞Â•áÊèêÂá∫ÔºåËøôÂõõÂ§ßÁªìÊûÑÂÖ±ÂêåÊîØÊíë‰∫ÜÂÖ®ÁêÉÊùÉÂäõÁöÑ{k|ÈáëÂ≠óÂ°î}„ÄÇ"
                                }
                            ]
                        },
                        {
                            name: "‚≠ê Èú∏ÊùÉÁ®≥ÂÆöËÆ∫",
                            itemStyle: { color: '#f59e0b' },
                            children: [
                                {
                                    name: "‚Ä¢ Ê†∏ÂøÉÔºöÈú∏ÊùÉÂõΩÊèê‰æõ {k|ÂÖ¨ÂÖ±‰∫ßÂìÅ}",
                                    example: "ÁêÜËÆ∫ÔºöÈú∏ÊùÉË°∞ËêΩÂØºËá¥ÂÖ¨ÂÖ±‰∫ßÂìÅÔºàÂ¶ÇÈáëËûçÁ®≥ÂÆö„ÄÅËà™Ë°åËá™Áî±ÔºâÁº∫‰ΩçÔºåÂºïÂèëÂä®Ëç°„ÄÇ"
                                },
                                {
                                    name: "‚Ä¢ ÊâπËØÑÔºö[Âü∫Ê¨ßÊ±â]{k|Âà∂Â∫¶ÈïøÂ≠ò} / ÂÖ≥Ê≥®Áõ∏ÂØπÂ¢ûÈáè",
                                    example: "ËßÇÁÇπÔºöÂç≥‰æøÈú∏ÊùÉÂêéÈÄÄÔºåÂõΩÈôÖÂà∂Â∫¶ÈÄöËøá{k|Èôç‰Ωé‰∫§ÊòìÊàêÊú¨}‰ªçËÉΩÁª¥ÊåÅÂêà‰Ωú„ÄÇ"
                                }
                            ]
                        }
                    ]
                },
                {
                    name: "‚Ö£. Âà∂Â∫¶ÂàÜÊûê üß©",
                    itemStyle: { color: '#ec4899' },
                    children: [
                        {
                            name: "‚ùì ÂçöÂºàÊ®°ÂûãÂå∫Âà´",
                            children: [
                                {
                                    name: "‚Ä¢ Âçè‰Ωú(ÂõöÂæí)Ôºö{k|Â∏ïÁ¥ØÊâòÊéíÂ∫è}ÔºåÁº∫ÊøÄÂä±",
                                    example: "ÁêÜËß£ÔºöÁî±‰∫éÁº∫‰πè‰ø°‰ªªÔºå‰∏™‰ΩìÈÄâÊã©Ëá™Â∑±ÁöÑ{k|Âç†‰ºòÁ≠ñÁï•}ÔºåÂØºËá¥ÈõÜ‰ΩìÁ¶èÂà©ÂèóÊçü„ÄÇ"
                                },
                                {
                                    name: "‚Ä¢ ÂçèË∞É(ÁåéÈπø)ÔºöÊó†Â∏ïÁ¥ØÊâòÔºå{k|ÈúÄÈ¢ÑÊúüÂçèË∞É}",
                                    example: "ÁêÜËß£ÔºöÂ≠òÂú®Â§ö‰∏™ÂùáË°°ÁÇπÔºåÂÖ≥ÈîÆÂú®‰∫éÂª∫Á´ã{k|ÂÖ±ÂêåÈ¢ÑÊúü}ÔºåÁ°Æ‰øùÊâÄÊúâ‰∫∫ÂêåÊ≠•Ë°åÂä®„ÄÇ"
                                }
                            ]
                        },
                        {
                            name: "‚ùì ÂÖ¨ÂÖ±Áâ©ÂìÅ‰æõÁªô",
                            children: [
                                {
                                    name: "‚Ä¢ Ê®°ÂºèÔºöÈú∏ÊùÉ / ÈõÜ‰ΩìË°åÂä® / {k|PPP‰ºô‰º¥} / ÊäÄÊúØÊ∫¢Âá∫",
                                    example: "Âêà‰ΩúÔºöÂú®Êó†ÊîøÂ∫úÁä∂ÊÄÅ‰∏ãÔºåÈÄöËøáÂª∫Á´ãÂõΩÈôÖÂà∂Â∫¶{k|Èôç‰Ωé‰∫§ÊòìÊàêÊú¨}ÔºåÂÆûÁé∞ÈùûÊéí‰ªñÊÄßÂÖ¨ÂÖ±ÂìÅÁöÑÁ®≥ÂÆö‰æõÁªô„ÄÇ"
                                }
                            ]
                        },
                        {
                            name: "‚≠ê ÁêÜÊÄß‰∏ª‰πâÊñπÊ≥ïËÆ∫",
                            itemStyle: { color: '#f59e0b' },
                            children: [
                                {
                                    name: "‚Ä¢ ÂÅáËÆæÔºöÂõΩÂÆ∂ËøΩÊ±Ç {k|Âà©ÁõäÊúÄÂ§ßÂåñ}",
                                    example: "Ê†∏ÂøÉÔºöÂ∞ÜÂõΩÂÆ∂ÊäΩË±°‰∏∫Âçï‰∏Ä‰∏™‰ΩìÔºåÂÖ∂ÊâÄÊúâÂ§ñ‰∫§Ë°å‰∏∫ÂùáÂèØÁÆÄÂåñ‰∏∫{k|ÊàêÊú¨‰∏éÊî∂Áõä}ÁöÑÁêÜÊÄßËÆ°ÁÆó„ÄÇ"
                                },
                                {
                                    name: "‚Ä¢ Â∑•ÂÖ∑Ôºö{k|ÂçöÂºàËÆ∫} + ÊàêÊú¨Êî∂ÁõäÂàÜÊûê",
                                    example: "Â∫îÁî®ÔºöÂ¶Ç{k|Ê†∏Â®ÅÊÖëÁêÜËÆ∫}ÔºåÈÄöËøáÂª∫Á´ãÂèØ‰ø°ÁöÑÂ®ÅËÉÅÊù•ÊîπÂèòÂØπÊâãÁöÑÊàêÊú¨ËÆ°ÁÆóÔºå‰ªéËÄåËææÊàêÂíåÂπ≥„ÄÇ"
                                },
                                {
                                    name: "‚Ä¢ ‰ª∑ÂÄºÔºöÁêÜËÆ∫{k|ÁÆÄÁ∫¶}„ÄÅÂàÜÊûê{k|Á≤æÁ°Æ}",
                                    example: "ËØÑ‰ª∑ÔºöËôΩÁÑ∂ÂøΩÁï•‰∫ÜÂÜÖÊîøÂ§çÊùÇÊÄßÔºå‰ΩÜ‰∏∫Á†îÁ©∂ÂõΩÈôÖ‰ΩìÁ≥ªÁöÑ{k|ËßÑÂæãÊÄß}Êèê‰æõ‰∫ÜÊ†áÂáÜÊ®°Âûã„ÄÇ"
                                }
                            ]
                        }
                    ]
                },
                {
                    name: "‚Ö§. Ëá™ÁÑ∂Ëæ©ËØÅÊ≥ï üß™",
                    itemStyle: { color: '#06b6d4' },
                    children: [
                        {
                            name: "‚ùì ÂèØÊåÅÁª≠ÂèëÂ±ïÂéüÂàô",
                            children: [
                                {
                                    name: "‚Ä¢ ÂéüÂàôÔºö{k|ÂÖ¨Âπ≥}„ÄÅ{k|ÊåÅÁª≠}„ÄÅ{k|ÂÖ±Âêå}„ÄÅ{k|Á≥ªÁªü}",
                                    example: "ÂÜÖÊ∂µÔºö‰∏ç‰ªÖÊòØÁéØÂ¢ÉÂπ≥Ë°°ÔºåÊ†∏ÂøÉÊòØÂ§ÑÁêÜ{k|‰∏ñ‰ª£Èó¥ÂÖ¨Âπ≥}ÔºåÂç≥‰∏çËÉΩÂõ†ÂΩì‰ª£‰∫∫ÁöÑÂèëÂ±ïÂâ•Â§∫Âêé‰ª£ÁîüÂ≠òÊùÉ„ÄÇ"
                                }
                            ]
                        },
                        {
                            name: "‚ùì ÁßëÂ≠¶Á≤æÁ•ûÂõõË¶ÅÁ¥†",
                            children: [
                                {
                                    name: "‚Ä¢ Ê†∏ÂøÉÔºö{k|Ê±ÇÂÆû}„ÄÅ{k|ÊâπÂà§}„ÄÅ{k|ÂàõÊñ∞}„ÄÅ{k|Âçè‰Ωú}",
                                    example: "ÂÜÖÊ∂µÔºö‰∏ç‰ªÖÊòØÊäÄÊúØÂçìË∂äÔºåÊõ¥ÊòØÂØπÊó¢ÊúâÂÆöËÆ∫ÁöÑ{k|ÁêÜÊÄßÊÄÄÁñë}‰∏éÂπøÊ≥õÁöÑË∑®ÁïåÂ≠¶ÊúØÂêà‰Ωú„ÄÇ"
                                }
                            ]
                        },
                        {
                            name: "‚≠ê ÁßëÊäÄÁ§æ‰ºöÂäüËÉΩ",
                            itemStyle: { color: '#f59e0b' },
                            children: [
                                {
                                    name: "‚Ä¢ ÂäüËÉΩÔºö{k|‰∫ß‰∏öÈáçÁªÑ} / Á§æ‰ºöÂèòÈù© / {k|ËÆ§Áü•Èù©ÂëΩ}",
                                    example: "ÂΩ±ÂìçÔºöÁßëÊäÄ‰∏ç‰ªÖÊèêÈ´òÁîü‰∫ßÂäõÔºåËøò‰Ωú‰∏∫{k|Á¨¨‰∏ÄÁîü‰∫ßÂäõ}Ê∑±ÂàªÊîπÂèò‰∫Ü‰∫∫Á±ªÊñáÊòéÁöÑÂ∫ïÂ±ÇÈÄªËæë„ÄÇ"
                                }
                            ]
                        }
                    ]
                },
                {
                    name: "‚Ö•. ËÉΩÊ∫êÁéØÂ¢É üõ¢Ô∏è",
                    itemStyle: { color: '#f43f5e' },
                    children: [
                        {
                            name: "‚ùì Ê≤π‰ª∑ÂÆö‰ª∑ÈÄªËæë",
                            children: [
                                {
                                    name: "‚Ä¢ ÂΩ±ÂìçÔºö{k|‰æõÈúÄÂü∫Êú¨Èù¢} / Âú∞ÁºòÂÜ≤Á™Å / ÈáëËûçÊäïÊú∫",
                                    example: "ÂàÜÊûêÔºöÁü≠ÊúüÁî±{k|È¢ÑÊúü}ÂÜ≥ÂÆöÔºå‰∏≠ÊúüÁî±‰æõÈúÄÁº∫Âè£ÂÜ≥ÂÆöÔºåÈïøÊúüÁî±Êõø‰ª£ËÉΩÊ∫êÊäÄÊúØÂÜ≥ÂÆö„ÄÇ"
                                }
                            ]
                        },
                        {
                            name: "‚ùì ÂÖ≠Â§ßÊàòÁï•Ê∞¥ÈÅì",
                            children: [
                                {
                                    name: "‚Ä¢ {k|ÈúçÂ∞îÊú®ÂÖπ}„ÄÅ{k|È©¨ÂÖ≠Áî≤}„ÄÅËãè‰ºäÂ£´„ÄÅÊõºÂæ∑„ÄÅÂ∑¥ÊãøÈ©¨",
                                    example: "ÈáçË¶ÅÊÄßÔºöÂÖ®ÁêÉÁü≥Ê≤πË¥∏ÊòìÁöÑ{k|ÂíΩÂñâÁÇπ}Ôºå‰∏ÄÊó¶ÂèóÈòªÂ∞ÜÁû¨Èó¥Êé®È´òÂÖ®ÁêÉÊµ∑ËøêÊàêÊú¨‰∏éÈÄöËÉÄ„ÄÇ"
                                }
                            ]
                        },
                        {
                            name: "‚≠ê ‰∏ÄÂ∏¶‰∏ÄË∑ØËÉΩÊ∫êÂ§ñ‰∫§",
                            itemStyle: { color: '#f59e0b' },
                            children: [
                                {
                                    name: "‚Ä¢ Ê†∏ÂøÉÔºö{k|Â§öÁª¥ÈÄöÈÅì} + ÊäÄÊúØËæìÂá∫ + {k|‰ºô‰º¥ÂÖ≥Á≥ª}",
                                    example: "ÊàòÁï•ÔºöÈÄöËøáÂü∫Á°ÄËÆæÊñΩËÅîÈÄöÂÆûÁé∞{k|‰æõÂ∫îÂ§öÂÖÉÂåñ}ÔºåÂØπÂÜ≤Âçï‰∏ÄÈÄöÈÅìÊñ≠‰æõÁöÑÈ£éÈô©„ÄÇ"
                                }
                            ]
                        }
                    ]
                }
            ]
        };

        let myChart = null;
        let isTestMode = false;
        let isRadial = false;

        function initChart() {
            const chartDom = document.getElementById('main-container');
            myChart = echarts.init(chartDom);
            render();

            document.getElementById('loading').style.opacity = 0;
            setTimeout(() => document.getElementById('loading').style.display = 'none', 500);
        }

        function render() {
            const option = {
                backgroundColor: 'transparent',
                tooltip: {
                    show: true,
                    trigger: 'item',
                    backgroundColor: 'rgba(15, 23, 42, 0.95)',
                    borderColor: '#3b82f6',
                    padding: [10, 14],
                    textStyle: { color: '#fff', fontSize: 13 },
                    formatter: (params) => {
                        if (isTestMode) return null;
                        let name = params.name.replace(/\{k\|/g, '').replace(/\}/g, '');
                        if (params.data.example) {
                            let ex = params.data.example.replace(/\{k\|/g, '').replace(/\}/g, '');
                            return `
                                <div style="margin-bottom:4px;color:#94a3b8;font-size:10px;font-weight:bold;text-transform:uppercase;letter-spacing:1px">Knowledge Detail</div>
                                <div style="font-weight:bold;margin-bottom:10px;font-size:15px;color:#fff">${name}</div>
                                <div style="border-top:1px solid rgba(255,255,255,0.1);padding-top:10px">
                                    <span style="color:#38bdf8;font-weight:bold">üí° ËÆ∞ÂøÜÊ°à‰æãÔºö</span><br/>
                                    <span style="color:#e2e8f0;line-height:1.6">${ex}</span>
                                </div>
                            `;
                        }
                        return `<div style="font-weight:bold">${name}</div>`;
                    }
                },
                series: [
                    {
                        type: 'tree',
                        data: [rawData],
                        top: '12%',
                        left: isRadial ? '10%' : '12%',
                        bottom: '12%',
                        right: isRadial ? '10%' : '20%',
                        symbolSize: 8,
                        layout: isRadial ? 'radial' : 'orthogonal',
                        initialTreeDepth: 1,
                        label: {
                            position: 'right',
                            verticalAlign: 'middle',
                            align: 'left',
                            fontSize: 14,
                            offset: [10, 0],
                            color: '#f8fafc',
                            fontWeight: '700',
                            rich: {
                                k: {
                                    color: '#38bdf8',
                                    fontWeight: '900',
                                    fontSize: 15
                                }
                            }
                        },
                        leaves: {
                            label: {
                                position: 'right',
                                verticalAlign: 'middle',
                                align: 'left',
                                fontSize: 13,
                                offset: [10, 0],
                                // In test mode, text color matches background to 'hide' it
                                color: isTestMode ? 'transparent' : '#94a3b8',
                                rich: {
                                    k: {
                                        color: isTestMode ? 'transparent' : '#38bdf8',
                                        fontWeight: '900',
                                        fontSize: 14,
                                        backgroundColor: isTestMode ? 'transparent' : 'rgba(56, 189, 248, 0.15)',
                                        borderRadius: 4,
                                        padding: [2, 4, 2, 4]
                                    }
                                }
                            }
                        },
                        emphasis: {
                            focus: 'descendant',
                            label: {
                                color: '#3b82f6', // Bright blue on hover
                                fontSize: 16,
                                rich: {
                                    k: {
                                        color: '#3b82f6',
                                        fontWeight: '900',
                                        fontSize: 16,
                                        backgroundColor: 'rgba(59, 130, 246, 0.2)',
                                        borderRadius: 4,
                                        padding: [2, 4, 2, 4]
                                    }
                                }
                            }
                        },
                        expandAndCollapse: true,
                        animationDuration: 600,
                        lineStyle: {
                            color: '#334155',
                            width: 2.5,
                            curveness: 0.5
                        },
                        itemStyle: {
                            borderColor: '#3b82f6',
                            borderWidth: 2
                        }
                    }
                ]
            };

            if (window.innerWidth < 768) {
                option.series[0].label.fontSize = 11;
                option.series[0].leaves.label.fontSize = 10;
                option.series[0].left = '5%';
                option.series[0].right = '40%';
            }

            myChart.setOption(option, true);
        }

        function toggleTestMode() {
            isTestMode = !isTestMode;
            document.getElementById('testModeBtn').classList.toggle('active');
            document.getElementById('mode-indicator').innerText = isTestMode ? "Ê®°ÂºèÔºöËá™ÊµãÊåëÊàò ¬∑ ÈöêËóèÁ≠îÊ°à" : "Ê®°ÂºèÔºöÊ∑±Â∫¶ËÉåËØµ ¬∑ ÂÖ≥ÈîÆËØçËÆ∞ÂøÜ";
            document.getElementById('mode-indicator').classList.toggle('text-blue-500');
            render();
        }

        function toggleLayout() {
            isRadial = !isRadial;
            document.getElementById('layoutBtn').classList.toggle('active');
            render();
        }

        function resetView() {
            isTestMode = false;
            isRadial = false;
            document.getElementById('testModeBtn').classList.remove('active');
            document.getElementById('layoutBtn').classList.remove('active');
            document.getElementById('mode-indicator').innerText = "Ê®°ÂºèÔºöÊ∑±Â∫¶ËÉåËØµ ¬∑ ÂÖ≥ÈîÆËØçËÆ∞ÂøÜ";
            document.getElementById('mode-indicator').classList.remove('text-blue-500');
            myChart.dispatchAction({ type: 'restore' });
            render();
        }

        window.addEventListener('resize', () => myChart && myChart.resize());
        setTimeout(initChart, 200);

    </script>
</body>

</html>
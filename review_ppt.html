<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>æ ¸å¿ƒè¯¾ç¨‹å¤ä¹  H5 PPT</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700;900&display=swap');

        body {
            font-family: 'Noto Sans SC', sans-serif;
            margin: 0;
            padding: 0;
            padding-bottom: env(safe-area-inset-bottom);
            overflow: hidden;
            background-color: #0f172a;
            color: #fff;
            -webkit-tap-highlight-color: transparent;
            height: 100svh;
            width: 100vw;
        }

        .slide-enter {
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s ease-out;
        }

        .slide-enter-active {
            opacity: 1;
            transform: translateY(0);
        }

        .glass-panel {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }

        .gradient-text {
            background: linear-gradient(135deg, #60a5fa 0%, #c084fc 100%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Custom Animations */
        @keyframes pulse-slow {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0.8;
            }
        }

        .highlight-item {
            animation: pulse-slow 2s infinite;
        }

        /* Perspective for 3D effects if needed */
        .perspective-1000 {
            perspective: 1000px;
        }

        .point-item {
            transition: all 0.3s ease;
        }

        .point-item.hidden-point {
            opacity: 0;
            transform: translateX(-10px);
            pointer-events: none;
        }

        .point-item.visible-point {
            opacity: 1;
            transform: translateX(0);
        }

        /* Custom Scrollbar */
        .custom-scrollbar::-webkit-scrollbar {
            width: 4px;
        }

        .custom-scrollbar::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        @keyframes blob {
            0% {
                transform: translate(0px, 0px) scale(1);
            }

            33% {
                transform: translate(30px, -50px) scale(1.1);
            }

            66% {
                transform: translate(-20px, 20px) scale(0.9);
            }

            100% {
                transform: translate(0px, 0px) scale(1);
            }
        }

        .animate-blob {
            animation: blob 7s infinite;
        }

        @keyframes dash {
            from {
                stroke-dasharray: 0, 1000;
                opacity: 0;
            }

            to {
                stroke-dasharray: 1000, 1000;
                opacity: 1;
            }
        }

        .animate-dash {
            animation: dash 2s ease-in-out forwards;
        }

        .animation-delay-2000 {
            animation-delay: 2s;
        }

        .animation-delay-4000 {
            animation-delay: 4s;
        }
    </style>
</head>

<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // Data Structure
        const DATA = [
            {
                course: "ä¸€ã€è‡ªç„¶è¾©è¯æ³•æ¦‚è®º",
                items: [
                    {
                        id: "c5_q1",
                        type: "ç®€ç­”",
                        question: "å¯æŒç»­å‘å±•çš„å®šä¹‰ä¸åŸåˆ™",
                        points: [
                            "ï¿½ å®šä¹‰ï¼šæ»¡è¶³å½“ä»£éœ€æ±‚ ä¸” ä¸æŸåä»£èƒ½åŠ›",
                            "âš–ï¸ å…¬å¹³æ€§ï¼ˆä»£å†…ä»£é™…ï¼‰",
                            "ğŸ”„ æŒç»­æ€§ï¼ˆä¸è¶…æ‰¿è½½åŠ›ï¼‰",
                            "ğŸŒ å…±åŒæ€§ï¼ˆå…¨çƒåˆä½œï¼‰",
                            "ï¿½ ç³»ç»Ÿæ€§ï¼ˆç»/ç¤¾/ç¯åè°ƒï¼‰"
                        ],
                        visualType: "sustainable_venn"
                    },
                    {
                        id: "c5_q2",
                        type: "ç®€ç­”",
                        question: "ç§‘å­¦ç²¾ç¥çš„å†…æ¶µä¸é‡è¦æ€§",
                        points: [
                            "ğŸ›ï¸ æ±‚å®ï¼šä»å®¢è§‚äº‹å®å‡ºå‘ï¼Œåå¯¹ä¸»è§‚è‡†æ–­ï¼ˆåŸºç¡€ï¼‰",
                            "âš™ï¸ æ‰¹åˆ¤ï¼šæ•¢äºè´¨ç–‘æƒå¨ï¼Œæ°¸ä¸ç›²ä»ï¼ˆåŠ¨åŠ›ï¼‰",
                            "ğŸ’¡ åˆ›æ–°ï¼šæå‡ºæ–°å‡è®¾æ–°æ–¹æ³•ï¼Œçªç ´ä¼ ç»Ÿï¼ˆçµé­‚ï¼‰",
                            "ğŸ›¡ï¸ åä½œï¼šé›†ä½“äº‹ä¸šï¼Œéœ€è¦å¼€æ”¾å…±äº«åˆä½œï¼ˆä¿éšœï¼‰",
                            "ğŸ§  è”æƒ³ï¼šæ— æ±‚å®åˆ™ä¼ªï¼Œæ— æ‰¹åˆ¤åˆ™åœï¼Œæ— åˆ›æ–°åˆ™æ»ï¼Œæ— åä½œåˆ™é‡",
                            "ğŸ¯ é‡è¦æ€§ï¼šâ‘ åŠ¨åŠ›ï¼šæ¨åŠ¨ç§‘å‘æŠ€åˆ›ï¼›â‘¡æ­¦å™¨ï¼šæŠµåˆ¶ä¼ªç§‘å­¦ï¼›â‘¢æ•´åˆï¼šåä½œæ”»å…‹éš¾é¢˜ï¼›â‘£æ„ä¹‰ï¼šç†æ€§æ€ç»´ä¸å¼ºå›½å»ºè®¾"
                        ],
                        visualType: "science_nodes"
                    },
                    {
                        id: "c5_e1",
                        type: "è®ºè¿° â˜…",
                        question: "ç§‘å­¦æŠ€æœ¯çš„ç¤¾ä¼šåŠŸèƒ½",
                        points: [
                            "ğŸ’° ç»æµåŠŸèƒ½ï¼šç¬¬ä¸€ç”Ÿäº§åŠ›",
                            "ğŸ›ï¸ æ”¿æ²»åŠŸèƒ½ï¼šå˜é©åˆ¶åº¦ã€æå‡æ²»ç†",
                            "ğŸ§  æ–‡åŒ–åŠŸèƒ½ï¼šè®¤çŸ¥é©å‘½ã€ç ´é™¤è¿·ä¿¡",
                            "ğŸŒ² ç”Ÿæ€åŠŸèƒ½ï¼šç»¿è‰²æŠ€æœ¯ã€èµ„æºå›æ”¶"
                        ],
                        visualType: "tech_function_hub"
                    }
                ]
            },
            {
                course: "äºŒã€å›½é™…å…³ç³»çš„åˆ¶åº¦åˆ†ææ–¹æ³•",
                items: [
                    {
                        id: "c4_q1",
                        type: "ç®€ç­”",
                        question: "åä½œå‹åšå¼ˆ vs åè°ƒå‹åšå¼ˆ",
                        points: [
                            "ï¿½ åä½œå‹ï¼ˆå›šå¾’å›°å¢ƒï¼‰ï¼š",
                            "- æœ‰å¸•ç´¯æ‰˜æ’åº",
                            "- ä¸ªä½“ç†æ€§å¯¼è‡´é›†ä½“éç†æ€§",
                            "- æ ¸å¿ƒï¼šæ¿€åŠ±é—®é¢˜",
                            "ğŸ¦Œ åè°ƒå‹ï¼ˆçŒé¹¿é—®é¢˜ï¼‰ï¼š",
                            "- æ— å¸•ç´¯æ‰˜æ’åº",
                            "- å¤šé‡å‡è¡¡",
                            "- æ ¸å¿ƒï¼šé¢„æœŸåè°ƒé—®é¢˜"
                        ],
                        visualType: "game_matrix"
                    },
                    {
                        id: "c4_q2",
                        type: "ç®€ç­”",
                        question: "å…¨çƒå…¬å…±ç‰©å“çš„ä¾›ç»™æ–¹å¼",
                        points: [
                            "ï¿½ ä¸»å¯¼å›½ä¾›ç»™æ¨¡å¼ï¼ˆéœ¸æƒç¨³å®šï¼‰",
                            "ğŸ¤ é›†ä½“è¡ŒåŠ¨ä¸åˆ¶åº¦æ¨¡å¼ï¼ˆè’™ç‰¹åˆ©å°”è®®å®šä¹¦ï¼‰",
                            "ğŸ¢ å…¬ç§ä¼™ä¼´å…³ç³»PPPï¼ˆGaviå…¨çƒç–«è‹—ï¼‰",
                            "ï¿½ æŠ€æœ¯è½¬è®©ä¸çŸ¥è¯†æº¢å‡ºï¼ˆå¼€æºè½¯ä»¶ï¼‰"
                        ],
                        visualType: "supply_grid"
                    },
                    {
                        id: "c4_e1",
                        type: "è®ºè¿° â˜…",
                        question: "ç†æ€§ä¸»ä¹‰æ–¹æ³•è®ºçš„ä»·å€¼",
                        points: [
                            "ğŸ§  å‡è®¾ï¼šå›½å®¶è¿½æ±‚åˆ©ç›Šæœ€å¤§åŒ–",
                            "ï¿½ æµæ´¾ï¼šæ–°ç°å®ã€æ–°è‡ªç”±ã€ç†æ€§é€‰æ‹©ç†è®º",
                            "ï¿½ï¸ å·¥å…·ï¼šåšå¼ˆè®ºã€æˆæœ¬æ”¶ç›Šåˆ†æ",
                            "ï¿½ ä»·å€¼ï¼šç†è®ºç®€çº¦ã€åˆ†æç²¾ç¡®ã€è·¨é¢†åŸŸé€‚ç”¨"
                        ],
                        visualType: "brain_gear"
                    }
                ]
            },
            {
                course: "ä¸‰ã€èƒ½æºä¸ç¯å¢ƒæ”¿æ²»ç»æµå­¦ç ”ç©¶",
                items: [
                    {
                        id: "c6_q1",
                        type: "ç®€ç­”",
                        question: "æ²¹ä»·å½¢æˆçš„å½±å“å› ç´ ",
                        points: [
                            "âš–ï¸ ä¾›éœ€åŸºæœ¬é¢ï¼ˆOPECäº§é‡ vs ç»æµå¢é•¿ï¼‰",
                            "ğŸŒ åœ°ç¼˜æ”¿æ²»ï¼ˆæˆ˜äº‰ã€åˆ¶è£ï¼‰",
                            "ğŸ’µ é‡‘èå› ç´ ï¼ˆç¾å…ƒæ±‡ç‡ã€æŠ•æœºï¼‰",
                            "ğŸ”§ æŠ€æœ¯è¿›æ­¥ï¼ˆé¡µå²©æ²¹ã€æ–°èƒ½æºï¼‰"
                        ],
                        visualType: "oil_scale"
                    },
                    {
                        id: "c6_q2",
                        type: "ç®€ç­”",
                        question: "ä¸–ç•ŒçŸ³æ²¹è¿è¾“å…­å¤§æˆ˜ç•¥æ°´é“",
                        points: [
                            "1. éœå°”æœ¨å…¹æµ·å³¡ï¼ˆæœ€ç¹å¿™ï¼‰",
                            "2. é©¬å…­ç”²æµ·å³¡ï¼ˆä¸œäºšç”Ÿå‘½çº¿ï¼‰",
                            "3. è‹ä¼Šå£«è¿æ²³/è‹éº¦å¾·ç®¡é“",
                            "4. æ›¼å¾·æµ·å³¡",
                            "5. åœŸè€³å…¶æµ·å³¡",
                            "6. å·´æ‹¿é©¬è¿æ²³"
                        ],
                        visualType: "waterways_map"
                    },
                    {
                        id: "c6_e1",
                        type: "è®ºè¿° â˜…",
                        question: "ç‰¹æœ—æ™®é€€ã€Šå·´é»åå®šã€‹åŠ¨å› ",
                        points: [
                            "ğŸ‡ºï¿½ ç¾å›½ä¼˜å…ˆï¼šæŸå®³ä¼ ç»ŸåŒ–çŸ³èƒ½æºåˆ©ç›Šï¼Œå¯¼è‡´å¤±ä¸š",
                            "ğŸ‘‘ ä¸»æƒå›å½’ï¼šåå¯¹å›½é™…ç»„ç»‡çº¦æŸï¼Œå•è¾¹ä¸»ä¹‰",
                            "âš–ï¸ åˆ©ç›Šåšå¼ˆï¼šè®¤ä¸ºå¯¹ä¸­å°é™åˆ¶å¤ªå°‘ï¼Œç¾å›½åƒäº",
                            "ğŸ¤” æ°”å€™æ€€ç–‘è®ºï¼šè´¨ç–‘äººä¸ºæ°”å€™å˜åŒ–ï¼Œè§†ä¸ºé˜´è°‹"
                        ],
                        visualType: "trump_paris_exit"
                    }
                ]
            },
            {
                course: "å››ã€äº§ä¸šå‘å±•çš„æ”¿æ²»ç»æµå­¦",
                items: [
                    {
                        id: "c1_q1",
                        type: "ç®€ç­”",
                        question: "IPEçš„å®šä¹‰åŠä¸»è¦ç ”ç©¶çš„æ ¸å¿ƒè®®é¢˜",
                        points: [
                            "ï¿½ å®šä¹‰ï¼šç ”ç©¶å›½é™…ä½“ç³»ä¸­'æ”¿æ²»ï¼ˆæƒåŠ›ï¼‰'ä¸'ç»æµï¼ˆè´¢å¯Œï¼‰'äº’åŠ¨å…³ç³»çš„å­¦ç§‘",
                            "ğŸ§— è®°å¿†é’©å­ï¼šçˆ¬æ¥¼æ¢¯â€œå›½å…¨æ„å®‰â€",
                            "- å›½ï¼šå›½å®¶ä¸å¸‚åœºçš„æƒåŠ›åšå¼ˆï¼ˆè°æ§åˆ¶è°ï¼Ÿï¼‰",
                            "- å…¨ï¼šå…¨çƒç»æµæ²»ç†æœºåˆ¶ï¼ˆå›½é™…è§„åˆ™å¦‚WTOï¼‰",
                            "- æ„ï¼šå…¨çƒåŒ–ä¸­çš„ç»“æ„æ€§ä¸å¹³ç­‰ï¼ˆå¯Œå›½å¯Œ/ç©·å›½ç©·ï¼‰",
                            "- å®‰ï¼šå®‰å…¨ä¸ç»æµäº¤ç»‡ï¼ˆåœ°ç¼˜æ”¿æ²»ä¸è´¸æ˜“é‡‘èï¼‰",
                            "ğŸ’¡ æƒ³è±¡ï¼šä»å›½å®¶èµ·æ­¥ï¼Œå…¨çƒé¡¶ç«¯ï¼Œç»“æ„ä¸­é—´ç»Šè„šï¼Œå®‰å…¨é¡¶å±‚å®ˆæŠ¤ã€‚"
                        ],
                        visualType: "ipe_venn"
                    },
                    {
                        id: "c1_q2",
                        type: "ç®€ç­”",
                        question: "'åŒåˆ›'æ”¿ç­–åŠå…¶å‡çº§ç‰ˆå†…å®¹",
                        points: [
                            "ğŸ§— è®°å¿†é’©å­ï¼šä¸‰çº§å°é˜¶â€œç¯â†’è´¢â†’å¹³â€",
                            "1. ç¯å¢ƒä¼˜åŒ–(åœ°åŸº)ï¼šæ·±åŒ–'æ”¾ç®¡æœ'ã€çŸ¥äº§ä¿æŠ¤",
                            "2. è´¢ç¨æ”¯æŒ(æ²¹ç«™)ï¼šåŠ è®¡æ‰£é™¤ã€é™ä½èèµ„æˆæœ¬",
                            "3. å¹³å°å‡çº§(ç™»é¡¶)ï¼šå­µåŒ–å™¨ã€å·¥ä¸šäº’è”ç½‘",
                            "ï¿½ å£è¯€ï¼šç¯å¢ƒè´¢ç¨å¹³å°é«˜ï¼Œä¼˜åŒ–æ”¾ç®¡æ”¹é©æ·±ï¼Œæ”¯æŒåŠ è®¡æ‰£é™¤å°‘ï¼Œèƒ½åŠ›å­µåŒ–å™¨äº’è”ã€‚"
                        ],
                        visualType: "shuang_chuang"
                    },
                    {
                        id: "c1_e1",
                        type: "è®ºè¿° â˜…",
                        question: "IPEçš„ä¸‰å¤§æ„è¯†å½¢æ€",
                        points: [
                            "ğŸ›ï¸ ç°å®ä¸»ä¹‰ï¼šå›½å®¶ä¸»ä½“ï¼Œè¿½æ±‚æƒåŠ›å®‰å…¨ï¼Œå¼ºè°ƒé›¶å’Œåšå¼ˆä¸æ”¿æ²»æ”¯é…ç»æµã€‚",
                            "ğŸ¤ è‡ªç”±ä¸»ä¹‰ï¼šä¸ªä½“/ä¼ä¸šä¸»ä½“ï¼Œè¿½æ±‚è´¢å¯ŒåŒèµ¢ï¼Œä¸»å¼ å¸‚åœºè‡ªè°ƒèŠ‚ä¸ç»å¯¹è·ç›Šã€‚",
                            "âš–ï¸ é©¬å…‹æ€ä¸»ä¹‰ï¼šé˜¶çº§ä¸»ä½“ï¼Œè¿½æ±‚å…¬å¹³è§£æ”¾ï¼Œæ‰¹åˆ¤ä¸å¹³ç­‰ä¸ç»æµåŸºç¡€å†³å®šè®ºã€‚",
                            "ï¿½ æ€»ç»“ï¼šä¸‰è€…äº’ä¸ºè¡¥å……åˆç›¸äº’æ‰¹åˆ¤ï¼Œä»ä¸åŒè§†è§’è§£é‡Šå›½é™…ç»æµç°è±¡ã€‚"
                        ],
                        visualType: "three_ideologies"
                    }
                ]
            },
            {
                course: "äº”ã€å…¨çƒå‘¨æœŸåˆ†æ",
                items: [
                    {
                        id: "c2_q1",
                        type: "ç®€ç­”",
                        question: "ç»æµå‘¨æœŸçš„ä¸‰åˆ†æ³• and å››åˆ†æ³•åŠæŒç»­æ—¶é—´",
                        points: [
                            "ï¿½ ä¸‰åˆ†æ³•ï¼š",
                            "- åŸºé’¦å‘¨æœŸï¼ˆ3-5å¹´ï¼Œåº“å­˜ï¼‰",
                            "- æœ±æ ¼æ‹‰å‘¨æœŸï¼ˆ8-10å¹´ï¼Œè®¾å¤‡æŠ•èµ„ï¼‰",
                            "- åº·å¾·æ‹‰å­£è€¶å¤«å‘¨æœŸï¼ˆ45-60å¹´ï¼ŒæŠ€æœ¯é©å‘½ï¼‰",
                            "ğŸ’¡ å››åˆ†æ³•ï¼šå¤è‹(1-2y)ã€ç¹è£(2-4y)ã€è¡°é€€(1-2y)ã€è§æ¡(1-3y)"
                        ],
                        visualType: "cycles_timeline"
                    },
                    {
                        id: "c2_q2",
                        type: "ç®€ç­”",
                        question: "ç¾æ—æŠ•èµ„æ—¶é’Ÿæ¨¡å‹å„é˜¶æ®µè¡¨ç°æœ€å¥½çš„èµ„äº§",
                        points: [
                            "ï¿½ å¤è‹æœŸï¼šè‚¡ç¥¨ (GDPâ†‘ é€šèƒ€â†“)",
                            "ğŸ”¥ è¿‡çƒ­æœŸï¼šå•†å“ (GDPâ†‘ é€šèƒ€â†‘)",
                            "ï¿½ æ»èƒ€æœŸï¼šç°é‡‘ (GDPâ†“ é€šèƒ€â†‘)",
                            "ğŸ“‰ è¡°é€€æœŸï¼šå€ºåˆ¸ (GDPâ†“ é€šèƒ€â†“)"
                        ],
                        visualType: "merrill_clock"
                    },
                    {
                        id: "c2_e1",
                        type: "è®ºè¿° â˜…",
                        question: "åº“å­˜å‘¨æœŸçš„å››ä¸ªé˜¶æ®µåŠç‰¹å¾",
                        points: [
                            "ğŸ§— è¢«åŠ¨å»åº“å­˜ï¼šéœ€æ±‚å¿«å‡/äº§å‡ºæ…¢ -> åº“å­˜é™ã€ä»·æ ¼å‡ã€åˆ©æ¶¦é«˜ã€ç°é‡‘ç´§",
                            "ğŸš€ ä¸»åŠ¨è¡¥åº“å­˜ï¼šéœ€æ±‚æ—º/çœ‹å¥½åå¸‚ -> åº“å­˜å‡ã€ä»·æ ¼å‡ã€åˆ©æ¶¦å¤§ã€ç°é‡‘ä¸°",
                            "ğŸ“¦ è¢«åŠ¨è¡¥åº“å­˜ï¼šéœ€æ±‚æ…¢/é«˜ä¼°éœ€æ±‚ -> åº“å­˜ç§¯ã€ä»·æ ¼ç¼“ã€åˆ©æ¶¦æ…¢ã€ç°é‡‘ç´§",
                            "ğŸ“‰ ä¸»åŠ¨å»åº“å­˜ï¼šéœ€æ±‚å¼±/å‡äº§å»åº“ -> åº“å­˜ä½ã€ä»·æ ¼è·Œã€åˆ©æ¶¦å‡ã€ç°é‡‘å‹",
                            "ğŸ”‘ æ ¸å¿ƒï¼šé¢„æœŸå·®ä¸æ—¶æ» (æŒç»­3-5å¹´ï¼Œå¯¹æ ‡åŸºé’¦å‘¨æœŸ)"
                        ],
                        visualType: "inventory_wave"
                    }
                ]
            },
            {
                course: "å…­ã€å›½é™…æ”¿æ²»ç»æµå­¦ä¸“ä¸šæ–‡çŒ®å¯¼è¯»",
                items: [
                    {
                        id: "c3_q1",
                        type: "ç®€ç­”",
                        question: "è§£é‡Šå…¨çƒåŒ–ç°è±¡çš„ä¸‰ä¸ªä¸»è¦æµæ´¾",
                        points: [
                            "1ï¸âƒ£ è¶…å…¨çƒä¸»ä¹‰æ´¾ï¼šå…¨çƒåŒ–ä¸å¯é˜»æŒ¡ã€å›½å®¶æ¶ˆå¤±",
                            "2ï¸âƒ£ æ€€ç–‘è®ºæ´¾ï¼šå¹¶éå²æ— å‰ä¾‹ã€å›½å®¶ä»ä¸»å¯¼",
                            "3ï¸âƒ£ å˜é©è®ºæ´¾ï¼šæ·±åˆ»å†å²è½¬å‹ã€å›½å®¶èŒèƒ½é‡æ„",
                            "ğŸ’¡ æ ¸å¿ƒåˆ†æ­§ï¼šå…¨çƒåŒ–å¯¹å›½å®¶ä¸»æƒçš„å†²å‡»ç¨‹åº¦ï¼ˆæ¶ˆäº¡ vs ä¸»å¯¼ vs è½¬å‹ï¼‰"
                        ],
                        visualType: "three_arrows"
                    },
                    {
                        id: "c3_q2",
                        type: "ç®€ç­”",
                        question: "ç»“æ„æ€§æƒåŠ› vs è”ç³»æ€§æƒåŠ›",
                        points: [
                            "ğŸ‘‰ è”ç³»æ€§æƒåŠ›ï¼šAè¿«ä½¿BåšæŸäº‹ï¼ˆç›´æ¥ã€å…·ä½“ã€å¯è§ï¼‰",
                            "ğŸ—ï¸ ç»“æ„æ€§æƒåŠ›ï¼šå¡‘é€ è§„åˆ™å’Œç¯å¢ƒï¼ˆé—´æ¥ã€å¹¿æ³›ã€éšè”½ï¼‰",
                            "ğŸ§© ç»“æ„æ€§å››ç»´åº¦ï¼šå®‰å…¨ã€ç”Ÿäº§ã€é‡‘èã€çŸ¥è¯†"
                        ],
                        visualType: "power_iceberg"
                    },
                    {
                        id: "c3_e1",
                        type: "è®ºè¿° â˜…",
                        question: "éœ¸æƒç¨³å®šè®ºåŠæ‰¹è¯„",
                        points: [
                            "ï¿½ï¸ ç†è®ºï¼šå¼€æ”¾ç¨³å®šçš„ä½“ç³»éœ€éœ¸æƒå›½æä¾›å…¬å…±äº§å“ï¼ˆé‡‘å¾·å°”ä¼¯æ ¼/å‰å°”å¹³ï¼‰",
                            "ï¿½ï¸ æ‰¹è¯„1ï¼ˆåŸºæ¬§æ±‰ï¼‰ï¼šéœ¸æƒè¡°è½åï¼Œå›½é™…åˆ¶åº¦ä»å¯ç»´æŒåˆä½œ",
                            "ğŸ—£ï¸ æ‰¹è¯„2ï¼ˆæ ¼é›·ç§‘ï¼‰ï¼šå›½å®¶å…³æ³¨ç›¸å¯¹æ”¶ç›Šï¼Œä¾ç„¶äº’ä¸ä¿¡ä»»"
                        ],
                        visualType: "hegemony_pillar"
                    }
                ]
            }
        ];

        // --- Visual Components (SVGs) ---

        const VisualPlaceholder = ({ type, revealStep }) => {
            switch (type) {
                case "ipe_venn":
                    return (
                        <svg viewBox="0 0 240 140" className="w-full h-full">
                            {/* Background glow */}
                            <defs>
                                <radialGradient id="blueGlow" cx="50%" cy="50%" r="50%">
                                    <stop offset="0%" stopColor="#3b82f6" stopOpacity="0.4" />
                                    <stop offset="100%" stopColor="#3b82f6" stopOpacity="0" />
                                </radialGradient>
                                <radialGradient id="redGlow" cx="50%" cy="50%" r="50%">
                                    <stop offset="0%" stopColor="#ef4444" stopOpacity="0.4" />
                                    <stop offset="100%" stopColor="#ef4444" stopOpacity="0" />
                                </radialGradient>
                            </defs>
                            {/* Politics Circle */}
                            <circle cx="85" cy="70" r="55" fill="url(#blueGlow)" />
                            <circle cx="85" cy="70" r="55" fill="none" stroke="#3b82f6" strokeWidth="3" />
                            <text x="55" y="50" fontSize="14" fill="#93c5fd" fontWeight="bold">æ”¿æ²»</text>
                            <text x="45" y="68" fontSize="11" fill="#60a5fa">è¿½æ±‚æƒåŠ›</text>
                            <text x="45" y="82" fontSize="11" fill="#60a5fa">ç»´æŠ¤ç§©åº</text>
                            {/* Economics Circle */}
                            <circle cx="155" cy="70" r="55" fill="url(#redGlow)" />
                            <circle cx="155" cy="70" r="55" fill="none" stroke="#ef4444" strokeWidth="3" />
                            <text x="165" y="50" fontSize="14" fill="#fca5a5" fontWeight="bold">ç»æµ</text>
                            <text x="165" y="68" fontSize="11" fill="#f87171">è¿½æ±‚è´¢å¯Œ</text>
                            <text x="165" y="82" fontSize="11" fill="#f87171">æå‡æ•ˆç‡</text>
                            {/* Central IPE */}
                            <rect x="100" y="55" width="40" height="30" rx="6" fill="#0f172a" stroke="#fbbf24" strokeWidth="2" />
                            <text x="120" y="75" fontSize="14" fill="#fbbf24" fontWeight="black" textAnchor="middle">IPE</text>
                            {/* Arrows */}
                            <path d="M85,25 C100,10 140,10 155,25" fill="none" stroke="#fbbf24" strokeWidth="2" strokeDasharray="4" />
                            <path d="M85,115 C100,130 140,130 155,115" fill="none" stroke="#fbbf24" strokeWidth="2" strokeDasharray="4" />
                        </svg>
                    );
                case "shuang_chuang":
                    return (
                        <div className="w-full h-full flex flex-col justify-center gap-6 p-6 select-none relative">
                            {/* Step 3: Summit */}
                            <div className="flex items-center gap-4 self-end w-full max-w-[90%] group transition-all duration-300">
                                <div className="flex-1 bg-white/10 backdrop-blur-xl border border-white/20 p-4 rounded-3xl shadow-[0_20px_50px_rgba(0,0,0,0.3)] flex flex-col items-end relative overflow-hidden group-hover:bg-white/15">
                                    <div className="absolute top-0 right-0 w-24 h-24 bg-purple-500/10 blur-3xl -mr-12 -mt-12"></div>
                                    <span className="text-[10px] text-purple-400 font-black uppercase tracking-[0.2em] mb-1">Phase 03. å¹³å°å‡çº§</span>
                                    <div className="text-lg font-black text-white tracking-tight">ç™»é¡¶ï¼šèƒ½åŠ›çˆ†æ£š</div>
                                    <div className="text-[10px] text-slate-400 font-medium">å­µåŒ–å™¨ â€¢ å·¥ä¸šäº’è”ç½‘å¹³å°</div>
                                </div>
                                <div className="w-16 h-16 bg-gradient-to-tr from-purple-600 to-indigo-500 rounded-2xl flex items-center justify-center text-3xl border border-white/30 shadow-[0_10px_30px_rgba(139,92,246,0.3)] group-hover:scale-110 transition-transform">ğŸš€</div>
                            </div>

                            {/* Step 2: Middle */}
                            <div className="flex items-center gap-4 self-center w-full max-w-[90%] group transition-all duration-300">
                                <div className="w-16 h-16 bg-gradient-to-tr from-rose-500 to-orange-500 rounded-2xl flex items-center justify-center text-3xl border border-white/30 shadow-[0_10px_30px_rgba(244,63,94,0.3)] group-hover:scale-110 transition-transform">â›½</div>
                                <div className="flex-1 bg-white/10 backdrop-blur-xl border border-white/20 p-4 rounded-3xl shadow-[0_20px_50px_rgba(0,0,0,0.3)] relative overflow-hidden group-hover:bg-white/15">
                                    <div className="absolute top-0 left-0 w-24 h-24 bg-rose-500/10 blur-3xl -ml-12 -mt-12"></div>
                                    <span className="text-[10px] text-rose-400 font-black uppercase tracking-[0.2em] mb-1">Phase 02. è´¢ç¨æ”¯æŒ</span>
                                    <div className="text-lg font-black text-white tracking-tight">æ²¹ç«™ï¼šç»™é’±ç»™ç¨</div>
                                    <div className="text-[10px] text-slate-400 font-medium">åŠ è®¡æ‰£é™¤ â€¢ é™ä½èèµ„æˆæœ¬</div>
                                </div>
                            </div>

                            {/* Step 1: Base */}
                            <div className="flex items-center gap-4 self-start w-full max-w-[90%] group transition-all duration-300">
                                <div className="flex-1 bg-white/10 backdrop-blur-xl border border-white/20 p-4 rounded-3xl shadow-[0_20px_50px_rgba(0,0,0,0.3)] relative overflow-hidden group-hover:bg-white/15">
                                    <div className="absolute top-0 right-0 w-24 h-24 bg-emerald-500/10 blur-3xl -mr-12 -mt-12"></div>
                                    <span className="text-[10px] text-emerald-400 font-black uppercase tracking-[0.2em] mb-1">Phase 01. ç¯å¢ƒä¼˜åŒ–</span>
                                    <div className="text-lg font-black text-white tracking-tight">åœ°åŸºï¼šæ¾ç»‘å…ˆè¡Œ</div>
                                    <div className="text-[10px] text-slate-400 font-medium">æ·±åŒ–â€œæ”¾ç®¡æœâ€ â€¢ çŸ¥äº§ä¿æŠ¤</div>
                                </div>
                                <div className="w-16 h-16 bg-gradient-to-tr from-emerald-600 to-teal-500 rounded-2xl flex items-center justify-center text-3xl border border-white/30 shadow-[0_10px_30px_rgba(16,185,129,0.3)] group-hover:scale-110 transition-transform">ğŸŒ¿</div>
                            </div>
                        </div>
                    );
                case "three_ideologies":
                    return (
                        <div className="w-full h-full flex flex-col justify-center gap-4 p-4 select-none">
                            {/* Realism */}
                            <div className="group bg-white/5 backdrop-blur-lg border border-red-500/20 p-4 rounded-2xl shadow-xl hover:bg-red-500/5 transition-all">
                                <div className="flex items-start gap-4">
                                    <div className="w-12 h-12 bg-red-600/20 rounded-xl flex items-center justify-center text-2xl border border-red-500/30 group-hover:scale-110 transition-transform">ğŸ¦</div>
                                    <div className="flex-1">
                                        <div className="flex justify-between items-center mb-1">
                                            <span className="text-red-400 font-black text-sm tracking-widest uppercase">Realism</span>
                                            <span className="text-[10px] text-red-500/60 font-bold px-2 py-0.5 border border-red-500/30 rounded-full">æ ¸å¿ƒï¼šå›½å®¶</span>
                                        </div>
                                        <div className="text-base font-black text-white mb-1">ç°å®ä¸»ä¹‰ï¼šæƒåŠ›ä¸åšå¼ˆ</div>
                                        <div className="text-[10px] text-slate-400 leading-relaxed">è¿½æ±‚æƒåŠ›/å®‰å…¨ï¼Œå¼ºè°ƒé›¶å’Œåšå¼ˆï¼Œè®¤å®šæ”¿æ²»æ”¯é…ç»æµã€‚</div>
                                    </div>
                                </div>
                            </div>

                            {/* Liberalism */}
                            <div className="group bg-white/5 backdrop-blur-lg border border-blue-500/20 p-4 rounded-2xl shadow-xl hover:bg-blue-500/5 transition-all">
                                <div className="flex items-start gap-4">
                                    <div className="w-12 h-12 bg-blue-600/20 rounded-xl flex items-center justify-center text-2xl border border-blue-500/30 group-hover:scale-110 transition-transform">ğŸ•Šï¸</div>
                                    <div className="flex-1">
                                        <div className="flex justify-between items-center mb-1">
                                            <span className="text-blue-400 font-black text-sm tracking-widest uppercase">Liberalism</span>
                                            <span className="text-[10px] text-blue-500/60 font-bold px-2 py-0.5 border border-blue-500/30 rounded-full">æ ¸å¿ƒï¼šä¸ªä½“/ä¼ä¸š</span>
                                        </div>
                                        <div className="text-base font-black text-white mb-1">è‡ªç”±ä¸»ä¹‰ï¼šè´¢å¯Œä¸åŒèµ¢</div>
                                        <div className="text-[10px] text-slate-400 leading-relaxed">è¿½æ±‚è´¢å¯ŒåŒèµ¢ï¼Œä¸»å¼ å¸‚åœºåŒ–è‡ªè°ƒèŠ‚ï¼Œå…³æ³¨ç»å¯¹è·ç›Šã€‚</div>
                                    </div>
                                </div>
                            </div>

                            {/* Marxism */}
                            <div className="group bg-white/5 backdrop-blur-lg border border-amber-500/20 p-4 rounded-2xl shadow-xl hover:bg-amber-500/5 transition-all">
                                <div className="flex items-start gap-4">
                                    <div className="w-12 h-12 bg-amber-600/20 rounded-xl flex items-center justify-center text-2xl border border-amber-500/30 group-hover:scale-110 transition-transform">â˜­</div>
                                    <div className="flex-1">
                                        <div className="flex justify-between items-center mb-1">
                                            <span className="text-amber-400 font-black text-sm tracking-widest uppercase">Marxism</span>
                                            <span className="text-[10px] text-amber-500/60 font-bold px-2 py-0.5 border border-amber-500/30 rounded-full">æ ¸å¿ƒï¼šé˜¶çº§</span>
                                        </div>
                                        <div className="text-base font-black text-white mb-1">é©¬å…‹æ€ä¸»ä¹‰ï¼šå…¬å¹³ä¸æ‰¹åˆ¤</div>
                                        <div className="text-[10px] text-slate-400 leading-relaxed">è¿½æ±‚å…¬å¹³è§£æ”¾ï¼Œæ‰¹åˆ¤ä¸å¹³ç­‰ç»“æ„ï¼Œè®¤å®šç»æµåŸºç¡€å†³å®šæƒã€‚</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    );
                case "cycles_timeline":
                    if (revealStep >= 5) {
                        return (
                            <div className="w-full h-full flex flex-col items-center justify-center p-4">
                                <div className="text-blue-400 font-black text-xs uppercase tracking-widest mb-4">å››åˆ†æ³•ï¼šç»æµæ³¢åŠ¨æŠ˜çº¿å›¾</div>
                                <svg viewBox="0 0 300 200" className="w-full h-full">
                                    <defs>
                                        <linearGradient id="waveGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                            <stop offset="0%" stopColor="#60a5fa" />
                                            <stop offset="33%" stopColor="#fbbf24" />
                                            <stop offset="66%" stopColor="#ef4444" />
                                            <stop offset="100%" stopColor="#10b981" />
                                        </linearGradient>
                                    </defs>
                                    {/* Grid Lines */}
                                    <line x1="40" y1="40" x2="260" y2="40" stroke="white" strokeOpacity="0.1" strokeDasharray="4" />
                                    <line x1="40" y1="100" x2="260" y2="100" stroke="white" strokeOpacity="0.2" />
                                    <line x1="40" y1="160" x2="260" y2="160" stroke="white" strokeOpacity="0.1" strokeDasharray="4" />

                                    {/* Cycle Path (Straight Line Segments as requested) */}
                                    <path
                                        d="M40,160 L100,135 L140,40 L180,130 L260,165"
                                        fill="none"
                                        stroke="url(#waveGradient)"
                                        strokeWidth="4"
                                        strokeLinecap="round"
                                        strokeLinejoin="round"
                                        className="animate-dash"
                                    />

                                    {/* Phase Arrows / Markers / Durations */}
                                    {/* Recovery: Gentle ascent */}
                                    <g transform="translate(70,147)">
                                        <circle r="3" fill="#60a5fa" />
                                        <text y="15" textAnchor="middle" fill="#60a5fa" fontSize="9" fontWeight="bold">å¤è‹</text>
                                        <text y="28" textAnchor="middle" fill="#93c5fd" fontSize="8">1-2å¹´</text>
                                    </g>
                                    {/* Prosperity: Sudden pull up */}
                                    <g transform="translate(120,87)">
                                        <circle r="3" fill="#fbbf24" />
                                        <text x="5" y="5" textAnchor="start" fill="#fbbf24" fontSize="9" fontWeight="bold">ç¹è£</text>
                                        <text x="5" y="18" textAnchor="start" fill="#fde047" fontSize="8">2-4å¹´</text>
                                    </g>
                                    {/* Recession: Sudden drop */}
                                    <g transform="translate(160,85)">
                                        <circle r="3" fill="#ef4444" />
                                        <text x="5" y="5" textAnchor="start" fill="#ef4444" fontSize="9" fontWeight="bold">è¡°é€€</text>
                                        <text x="5" y="18" textAnchor="start" fill="#fca5a5" fontSize="8">1-2å¹´</text>
                                    </g>
                                    {/* Depression: Gentle drop */}
                                    <g transform="translate(220,147)">
                                        <circle r="3" fill="#10b981" />
                                        <text y="15" textAnchor="middle" fill="#10b981" fontSize="9" fontWeight="bold">è§æ¡</text>
                                        <text y="28" textAnchor="middle" fill="#86efac" fontSize="8">1-3å¹´</text>
                                    </g>

                                    {/* Axis */}
                                    <line x1="40" y1="180" x2="270" y2="180" stroke="white" strokeWidth="2" />
                                    <text x="270" y="195" fill="gray" fontSize="8" textAnchor="end">æ—¶é—´</text>
                                    <line x1="40" y1="20" x2="40" y2="180" stroke="white" strokeWidth="2" />
                                    <text x="35" y="25" fill="gray" fontSize="8" textAnchor="end" transform="rotate(-90 35,25)">äº§å‡º/GDP</text>
                                </svg>
                            </div>
                        );
                    }
                    return (
                        <div className="w-full h-full flex flex-col items-center justify-center p-4">
                            <div className="text-blue-400 font-black text-xs uppercase tracking-widest mb-4">ä¸‰åˆ†æ³•ï¼šä¸‰å±‚å‘¨æœŸæ—¶é•¿å¯¹æ¯”</div>
                            <svg viewBox="0 0 260 180" className="w-full h-full">
                                {/* Axis */}
                                <line x1="30" y1="150" x2="240" y2="150" stroke="white" strokeWidth="2" />
                                <polygon points="240,145 250,150 240,155" fill="white" />
                                <text x="245" y="168" fill="gray" fontSize="10">æ—¶é—´</text>
                                {/* Kitchin */}
                                <rect x="40" y="115" width="50" height="20" fill="#60a5fa" rx="4" />
                                <text x="65" y="130" fill="white" fontSize="10" textAnchor="middle" fontWeight="bold">åŸºé’¦</text>
                                <text x="65" y="105" fill="#93c5fd" fontSize="12" textAnchor="middle">3-4å¹´</text>
                                <text x="65" y="92" fill="#60a5fa" fontSize="9" textAnchor="middle">åº“å­˜å‘¨æœŸ</text>
                                {/* Juglar */}
                                <rect x="100" y="75" width="60" height="20" fill="#818cf8" rx="4" />
                                <text x="130" y="90" fill="white" fontSize="10" textAnchor="middle" fontWeight="bold">æœ±æ ¼æ‹‰</text>
                                <text x="130" y="65" fill="#a5b4fc" fontSize="12" textAnchor="middle">8-10å¹´</text>
                                <text x="130" y="52" fill="#818cf8" fontSize="9" textAnchor="middle">è®¾å¤‡æŠ•èµ„</text>
                                {/* Kondratieff */}
                                <rect x="170" y="35" width="60" height="20" fill="#c084fc" rx="4" />
                                <text x="200" y="50" fill="white" fontSize="10" textAnchor="middle" fontWeight="bold">åº·æ³¢</text>
                                <text x="200" y="25" fill="#d8b4fe" fontSize="12" textAnchor="middle">50-60å¹´</text>
                                <text x="200" y="12" fill="#c084fc" fontSize="9" textAnchor="middle">æŠ€æœ¯é©å‘½</text>
                                {/* Connecting line */}
                                <path d="M65,115 L130,75 L200,35" fill="none" stroke="#fbbf24" strokeWidth="2" strokeDasharray="5" />
                            </svg>
                        </div>
                    );
                case "merrill_clock":
                    return (
                        <svg viewBox="0 0 220 220" className="w-full h-full">
                            {/* Outer ring */}
                            <circle cx="110" cy="110" r="95" fill="none" stroke="white" strokeWidth="3" />
                            {/* Quadrant dividers */}
                            <line x1="110" y1="15" x2="110" y2="205" stroke="white" strokeWidth="1" strokeDasharray="6" opacity="0.5" />
                            <line x1="15" y1="110" x2="205" y2="110" stroke="white" strokeWidth="1" strokeDasharray="6" opacity="0.5" />
                            {/* Quadrant backgrounds */}
                            <path d="M110,110 L110,20 A90,90 0 0,1 200,110 Z" fill="#fbbf24" opacity="0.15" />
                            <path d="M110,110 L200,110 A90,90 0 0,1 110,200 Z" fill="#ef4444" opacity="0.15" />
                            <path d="M110,110 L110,200 A90,90 0 0,1 20,110 Z" fill="#10b981" opacity="0.15" />
                            <path d="M110,110 L20,110 A90,90 0 0,1 110,20 Z" fill="#3b82f6" opacity="0.15" />
                            {/* Labels */}
                            <g transform="translate(155,60)">
                                <text fill="#fbbf24" fontSize="14" fontWeight="bold">å¤è‹</text>
                                <text y="16" fill="#fde047" fontSize="11">â†’ è‚¡ç¥¨</text>
                            </g>
                            <g transform="translate(155,150)">
                                <text fill="#ef4444" fontSize="14" fontWeight="bold">è¿‡çƒ­</text>
                                <text y="16" fill="#fca5a5" fontSize="11">â†’ å•†å“</text>
                            </g>
                            <g transform="translate(35,150)">
                                <text fill="#10b981" fontSize="14" fontWeight="bold">æ»èƒ€</text>
                                <text y="16" fill="#86efac" fontSize="11">â†’ ç°é‡‘</text>
                            </g>
                            <g transform="translate(35,60)">
                                <text fill="#3b82f6" fontSize="14" fontWeight="bold">è¡°é€€</text>
                                <text y="16" fill="#93c5fd" fontSize="11">â†’ å€ºåˆ¸</text>
                            </g>
                            {/* Center */}
                            <circle cx="110" cy="110" r="20" fill="#1e293b" stroke="white" strokeWidth="2" />
                            <text x="110" y="114" textAnchor="middle" fill="white" fontSize="10" fontWeight="bold">ç»æµ</text>
                        </svg>
                    );
                case "inventory_wave":
                    return (
                        <svg viewBox="0 0 240 220" className="w-full h-full">
                            {/* Axis */}
                            <line x1="40" y1="190" x2="220" y2="190" stroke="white" strokeWidth="2" />
                            <polygon points="220,185 230,190 220,195" fill="white" />
                            <line x1="40" y1="30" x2="40" y2="190" stroke="white" strokeWidth="2" />
                            <polygon points="35,30 40,20 45,30" fill="white" />
                            <text x="220" y="210" fill="#94a3b8" fontSize="11" textAnchor="end">éœ€æ±‚ â†‘</text>
                            <text x="25" y="35" fill="#94a3b8" fontSize="11">åº“å­˜ â†‘</text>
                            {/* Cycle Box */}
                            <rect x="70" y="60" width="120" height="100" fill="none" stroke="rgba(255,255,255,0.15)" strokeWidth="2" rx="8" />
                            {/* Stage 1: Bottom - Passive Destock */}
                            <g>
                                <path d="M70,160 L140,160" stroke="#86efac" strokeWidth="4" markerEnd="url(#arr-g2)" />
                                <rect x="75" y="170" width="80" height="18" rx="4" fill="#86efac" opacity="0.2" />
                                <text x="115" y="183" fill="#86efac" fontSize="11" textAnchor="middle" fontWeight="bold">1.è¢«åŠ¨å»åº“</text>
                            </g>
                            {/* Stage 2: Right - Active Restock */}
                            <g>
                                <path d="M190,160 L190,90" stroke="#fde047" strokeWidth="4" markerEnd="url(#arr-y2)" />
                                <text x="205" y="130" fill="#fde047" fontSize="11" fontWeight="bold">2.ä¸»åŠ¨è¡¥åº“</text>
                            </g>
                            {/* Stage 3: Top - Passive Restock */}
                            <g>
                                <path d="M190,60 L110,60" stroke="#fca5a5" strokeWidth="4" markerEnd="url(#arr-r2)" />
                                <rect x="105" y="42" width="80" height="18" rx="4" fill="#fca5a5" opacity="0.2" />
                                <text x="145" y="55" fill="#fca5a5" fontSize="11" textAnchor="middle" fontWeight="bold">3.è¢«åŠ¨è¡¥åº“</text>
                            </g>
                            {/* Stage 4: Left - Active Destock */}
                            <g>
                                <path d="M70,60 L70,130" stroke="#93c5fd" strokeWidth="4" markerEnd="url(#arr-b2)" />
                                <text x="55" y="95" fill="#93c5fd" fontSize="11" fontWeight="bold" transform="rotate(-90 55 95)">4.ä¸»åŠ¨å»åº“</text>
                            </g>
                            <defs>
                                <marker id="arr-g2" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="4" markerHeight="4" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" fill="#86efac" /></marker>
                                <marker id="arr-y2" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="4" markerHeight="4" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" fill="#fde047" /></marker>
                                <marker id="arr-r2" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="4" markerHeight="4" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" fill="#fca5a5" /></marker>
                                <marker id="arr-b2" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="4" markerHeight="4" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" fill="#93c5fd" /></marker>
                            </defs>
                        </svg>
                    );
                case "three_arrows":
                    return (
                        <div className="flex flex-col gap-4 h-full justify-center p-4">
                            <div className="flex items-center gap-4 p-4 bg-gradient-to-r from-blue-500/20 to-transparent rounded-lg border-l-4 border-blue-500">
                                <div className="text-3xl">ğŸŒ</div>
                                <div>
                                    <div className="text-blue-400 font-bold text-base">è¶…å…¨çƒä¸»ä¹‰</div>
                                    <div className="text-gray-400 text-sm">å›½å®¶æ­£åœ¨æ¶ˆå¤±ï¼Œå…¨çƒæ²»ç†å…¨é¢å´›èµ·</div>
                                </div>
                            </div>
                            <div className="flex items-center gap-4 p-4 bg-gradient-to-r from-purple-500/20 to-transparent rounded-lg border-l-4 border-purple-500">
                                <div className="text-3xl">ğŸ³ï¸</div>
                                <div>
                                    <div className="text-purple-400 font-bold text-base">æ€€ç–‘è®º</div>
                                    <div className="text-gray-400 text-sm">å›½å®¶ä»æ˜¯æ ¸å¿ƒï¼Œå…¨çƒåŒ–è¢«å¤¸å¤§</div>
                                </div>
                            </div>
                            <div className="flex items-center gap-4 p-4 bg-gradient-to-r from-cyan-500/20 to-transparent rounded-lg border-l-4 border-cyan-500">
                                <div className="text-3xl">ğŸ”„</div>
                                <div>
                                    <div className="text-cyan-400 font-bold text-base">å˜é©è®º</div>
                                    <div className="text-gray-400 text-sm">å›½å®¶åŠŸèƒ½é‡æ„ï¼Œä¸æ˜¯å‰Šå¼±è€Œæ˜¯è½¬å‹</div>
                                </div>
                            </div>
                        </div>
                    );
                case "power_iceberg":
                    return (
                        <div className="flex flex-col h-full gap-5 justify-center p-4 select-none">
                            {/* 1. Relational Power */}
                            <div className="border border-blue-500/30 bg-blue-900/10 rounded-2xl p-4 flex flex-col items-center shadow-lg">
                                <div className="text-sm text-blue-300 font-bold mb-3 w-full text-left uppercase tracking-wider">1. è”ç³»æ€§æƒåŠ› (Relational)</div>
                                <div className="flex items-center gap-6">
                                    <div className="w-12 h-12 rounded-full bg-blue-500 flex items-center justify-center text-lg font-bold shadow-xl z-10">A</div>
                                    <div className="relative h-12 w-28 flex items-center justify-center">
                                        <div className="absolute top-1/2 left-0 w-full h-1.5 bg-yellow-400 rounded"></div>
                                        <div className="absolute top-1/2 right-0 w-4 h-4 border-t-4 border-r-4 border-yellow-400 rotate-45 -translate-y-2 translate-x-[2px]"></div>
                                        <span className="text-xs text-yellow-400 -mt-8 font-black uppercase">å¼ºåˆ¶/è¿«ä½¿</span>
                                    </div>
                                    <div className="w-10 h-10 rounded-full bg-slate-600 flex items-center justify-center text-base opacity-90 shadow-lg">B</div>
                                </div>
                                <div className="text-xs text-gray-300 mt-3 font-medium">"A åˆ©ç”¨èµ„æºç›´æ¥è®© B åšæŸäº‹"</div>
                            </div>

                            {/* 2. Structural Power */}
                            <div className="border border-purple-500/30 bg-purple-900/10 rounded-2xl p-4 flex flex-col items-center flex-1 shadow-lg">
                                <div className="text-sm text-purple-300 font-bold mb-3 w-full text-left uppercase tracking-wider">2. ç»“æ„æ€§æƒåŠ› (Structural)</div>
                                <div className="relative w-full h-full flex items-center justify-center min-h-[140px]">
                                    {/* The Frame */}
                                    <div className="absolute inset-2 border-2 border-dashed border-purple-400/50 rounded-2xl flex items-center justify-center bg-purple-500/5">
                                        {/* The labels on the frame */}
                                        <div className="absolute -top-3 bg-slate-900 px-3 border border-purple-500/50 rounded-full text-[10px] font-bold text-purple-300">ç”Ÿäº§ (Production)</div>
                                        <div className="absolute -bottom-3 bg-slate-900 px-3 border border-purple-500/50 rounded-full text-[10px] font-bold text-purple-300">é‡‘è (Finance)</div>
                                        <div className="absolute left-0 -translate-x-1/2 bg-slate-900 px-2 border border-purple-500/50 rounded-full text-[10px] font-bold text-purple-300 rotate-90">å®‰å…¨</div>
                                        <div className="absolute right-0 translate-x-1/2 bg-slate-900 px-2 border border-purple-500/50 rounded-full text-[10px] font-bold text-purple-300 rotate-90">çŸ¥è¯†</div>

                                        {/* B inside the frame */}
                                        <div className="w-10 h-10 rounded-full bg-slate-600 flex items-center justify-center text-base font-bold shadow-lg">B</div>
                                        <div className="absolute mt-16 text-[10px] text-gray-400 font-bold opacity-80 uppercase tracking-tighter">è¢«é™å®šåœ¨æ¡†æ¶å†…</div>
                                    </div>

                                    {/* A outside/holding the frame */}
                                    <div className="absolute -bottom-2 -right-2 w-12 h-12 rounded-full bg-blue-600 border-2 border-purple-400 text-white text-sm flex items-center justify-center font-black shadow-2xl z-20">
                                        A
                                    </div>
                                </div>
                                <div className="text-xs text-gray-300 mt-4 font-medium text-center leading-tight">"A ä¸ç›´æ¥æ¥è§¦ Bï¼Œä½†è®¾å®šäº† B ç”Ÿå­˜çš„è§„åˆ™/ç¯å¢ƒ"</div>
                            </div>
                        </div>
                    );
                case "hegemony_pillar":
                    return (
                        <div className="flex flex-col h-full gap-5 justify-center p-4 select-none">
                            {/* 1. Hegemonic Stability Theory */}
                            <div className="border border-yellow-500/30 bg-yellow-900/10 rounded-2xl p-4 flex flex-col items-center shadow-lg">
                                <div className="text-sm text-yellow-300 font-bold mb-3 w-full text-left uppercase tracking-wider">1. éœ¸æƒç¨³å®šè®º (HST)</div>
                                <div className="relative w-full h-[100px] flex flex-col items-center justify-end">
                                    {/* The Roof: World Order */}
                                    <div className="w-[160px] h-6 bg-yellow-500/80 rounded-t-lg flex items-center justify-center text-xs text-black font-black border border-white/20">
                                        ä¸–ç•Œä½“ç³» / å…¬å…±äº§å“
                                    </div>
                                    {/* The Pillar: Hegemon */}
                                    <div className="w-14 h-14 bg-blue-600 border-x-2 border-white flex items-center justify-center text-xs font-black shadow-xl">
                                        éœ¸æƒå›½
                                    </div>
                                    <div className="w-full h-1.5 bg-white/20 rounded-full"></div>
                                </div>
                                <div className="text-xs text-gray-300 mt-3 text-center italic font-medium">"åªæœ‰ä¸€ä¸ªå¼ºå¤§çš„é¢†å¯¼è€…æ‰èƒ½ç»´æŒç³»ç»Ÿç¨³å®š"</div>
                            </div>

                            {/* 2. Institutional Criticism (Keohane) */}
                            <div className="border border-green-500/30 bg-green-900/10 rounded-2xl p-4 flex flex-col items-center flex-1 shadow-lg">
                                <div className="text-sm text-green-300 font-bold mb-3 w-full text-left uppercase tracking-wider">2. åˆ¶åº¦åˆ†æ/åéœ¸æƒåˆä½œ</div>
                                <div className="relative w-full h-full flex flex-col items-center justify-end min-h-[110px]">
                                    {/* The Roof: World Order */}
                                    <div className="w-[160px] h-6 bg-green-500/80 rounded-t-lg flex items-center justify-center text-xs text-black font-black border border-white/20">
                                        ç¨³å®šä¸åˆä½œ
                                    </div>
                                    {/* Multiple small pillars: Institutions */}
                                    <div className="flex gap-4 items-end">
                                        <div className="w-6 h-12 bg-green-700/60 border-x-2 border-white/30 flex items-center justify-center text-[10px] font-bold rotate-1">IMF</div>
                                        <div className="w-6 h-12 bg-green-700/60 border-x-2 border-white/30 flex items-center justify-center text-[10px] font-bold -rotate-1">WTO</div>
                                        <div className="w-6 h-12 bg-green-700/60 border-x-2 border-white/30 flex items-center justify-center text-[10px] font-bold">UN</div>
                                        <div className="w-6 h-12 bg-green-700/60 border-x-2 border-white/30 flex items-center justify-center text-[10px] font-bold rotate-2">G20</div>
                                    </div>
                                    {/* Broken Hegemon pillar in background or side */}
                                    <div className="absolute left-6 bottom-4 opacity-10 transform scale-90 blur-[0.5px]">
                                        <div className="w-12 h-10 bg-red-900/40 border-2 border-white/10 text-[10px] flex items-center justify-center font-bold">éœ¸æƒè¡°è½</div>
                                    </div>
                                    <div className="w-full h-1.5 bg-white/20 rounded-full"></div>
                                </div>
                                <div className="text-xs text-gray-300 mt-3 text-center italic font-medium">"éœ¸æƒè¡°è½åï¼Œå›½é™…åˆ¶åº¦ä»èƒ½é™ä½äº¤æ˜“æˆæœ¬ï¼Œå»¶ç»­åˆä½œ"</div>
                            </div>
                        </div>
                    );
                case "game_matrix":
                    return (
                        <div className="flex flex-col h-full gap-5 justify-center p-4 select-none">
                            {/* 1. Collaboration Game (Incentive Problem) */}
                            <div className="border border-red-500/30 bg-red-900/10 rounded-2xl p-4 flex flex-col items-center shadow-lg">
                                <div className="text-sm text-red-300 font-bold mb-3 w-full text-left uppercase tracking-wider">1. åä½œå‹åšå¼ˆ (å¦‚ï¼šå›šå¾’å›°å¢ƒ)</div>
                                <div className="relative w-full flex items-center justify-around py-3">
                                    <div className="flex flex-col items-center gap-2">
                                        <div className="w-12 h-12 bg-green-500/20 border-2 border-green-500 rounded-full flex items-center justify-center text-2xl shadow-inner">ğŸ¤</div>
                                        <span className="text-xs text-green-300 font-black">é›†ä½“è·ç›Š</span>
                                    </div>
                                    <div className="flex flex-col items-center">
                                        <div className="text-red-500 text-2xl animate-pulse">â”</div>
                                        <span className="text-[10px] text-red-400 font-bold uppercase">èƒŒå›è¯±æƒ‘</span>
                                    </div>
                                    <div className="flex flex-col items-center gap-2">
                                        <div className="w-12 h-12 bg-red-500/20 border-2 border-red-500 rounded-full flex items-center justify-center text-2xl shadow-inner">ğŸƒâ€â™‚ï¸</div>
                                        <span className="text-xs text-red-300 font-black">ä¸ªäººèƒŒç¦»</span>
                                    </div>
                                </div>
                                <div className="text-xs text-gray-300 mt-3 text-center font-medium">æ ¸å¿ƒï¼šå­˜åœ¨<b>å¸•ç´¯æ‰˜æ’åº</b>ï¼Œä½†ä¸ªä½“æœ‰<b>åŠ¨æœº</b>å»èƒŒå›</div>
                            </div>

                            {/* 2. Coordination Game (Assurance Problem) */}
                            <div className="border border-blue-500/30 bg-blue-900/10 rounded-2xl p-4 flex flex-col items-center flex-1 shadow-lg">
                                <div className="text-sm text-blue-300 font-bold mb-3 w-full text-left uppercase tracking-wider">2. åè°ƒå‹åšå¼ˆ (å¦‚ï¼šçŒé¹¿é—®é¢˜)</div>
                                <div className="relative w-full h-full flex flex-col items-center justify-center gap-4">
                                    <div className="flex items-center gap-6 w-full">
                                        <div className="flex-1 border-2 border-white/10 p-3 rounded-2xl bg-green-500/10 flex flex-col items-center shadow-lg">
                                            <span className="text-4xl mb-1">ğŸ¦Œ</span>
                                            <span className="text-[11px] text-green-300 font-black uppercase">å‡è¡¡A: çŒé¹¿(åŒèµ¢)</span>
                                        </div>
                                        <div className="text-lg font-black text-gray-500 italic">VS</div>
                                        <div className="flex-1 border-2 border-white/10 p-3 rounded-2xl bg-white/5 opacity-50 flex flex-col items-center grayscale shadow-lg">
                                            <span className="text-4xl mb-1">ğŸ‡</span>
                                            <span className="text-[11px] text-gray-300 font-black uppercase">å‡è¡¡B: æŠ“å…”(å¹³åº¸)</span>
                                        </div>
                                    </div>
                                    <div className="flex items-center gap-3 text-xs text-yellow-500 mt-2 font-bold uppercase tracking-wide">
                                        <span className="text-gray-400">é‡ç‚¹ï¼š</span>
                                        <span className="px-3 py-1 bg-yellow-500/20 border border-yellow-500/50 rounded-full shadow-lg">é¢„æœŸç®¡ç†</span>
                                        <span>+</span>
                                        <span className="px-3 py-1 bg-yellow-500/20 border border-yellow-500/50 rounded-full shadow-lg">ä¿¡æ¯æ²Ÿé€š</span>
                                    </div>
                                </div>
                                <div className="text-xs text-gray-300 mt-4 text-center font-medium">æ ¸å¿ƒï¼š<b>æ— å¸•ç´¯æ‰˜æ’åº</b>ï¼Œå…³é”®åœ¨äºè¾¾æˆ<b>å…±åŒé¢„æœŸ</b></div>
                            </div>
                        </div>
                    );
                case "supply_grid":
                    return (
                        <div className="grid grid-cols-2 grid-rows-2 h-full gap-5 p-4 select-none">
                            {/* 1. Hegemony (Top-Down) */}
                            <div className="border border-blue-500/30 bg-blue-500/5 rounded-2xl p-4 flex flex-col items-center justify-between shadow-lg">
                                <div className="text-[11px] text-blue-400 font-black uppercase tracking-widest self-start mb-2">1. éœ¸æƒä¾›ç»™æ¨¡å¼</div>
                                <svg viewBox="0 0 100 60" className="w-full h-16 drop-shadow-xl">
                                    <circle cx="50" cy="20" r="12" fill="#3b82f6" fillOpacity="0.8" className="animate-pulse" />
                                    <g stroke="#3b82f6" strokeWidth="2" strokeDasharray="3">
                                        <line x1="50" y1="32" x2="20" y2="52" />
                                        <line x1="50" y1="32" x2="50" y2="57" />
                                        <line x1="50" y1="32" x2="80" y2="52" />
                                    </g>
                                    <circle cx="20" cy="52" r="4" fill="#94a3b8" />
                                    <circle cx="50" cy="57" r="4" fill="#94a3b8" />
                                    <circle cx="80" cy="52" r="4" fill="#94a3b8" />
                                </svg>
                                <div className="text-[10px] text-gray-300 text-center font-bold mt-2">å•ä¸€æ ¸å¿ƒæ‰¿æ‹…æˆæœ¬å¹¶ä¸»å¯¼</div>
                            </div>

                            {/* 2. Collective Action (Network) */}
                            <div className="border border-green-500/30 bg-green-500/5 rounded-2xl p-4 flex flex-col items-center justify-between shadow-lg">
                                <div className="text-[11px] text-green-400 font-black uppercase tracking-widest self-start mb-2">2. é›†ä½“è¡ŒåŠ¨æ¨¡å¼</div>
                                <svg viewBox="0 0 100 60" className="w-full h-16 drop-shadow-xl">
                                    <g fill="none" stroke="#10b981" strokeWidth="2">
                                        <path d="M50,10 Q80,10 80,30 T50,50 T20,30 T50,10" strokeDasharray="5" />
                                        <circle cx="50" cy="10" r="5" fill="#059669" stroke="white" strokeWidth="1.5" />
                                        <circle cx="80" cy="30" r="5" fill="#059669" stroke="white" strokeWidth="1.5" />
                                        <circle cx="50" cy="50" r="5" fill="#059669" stroke="white" strokeWidth="1.5" />
                                        <circle cx="20" cy="30" r="5" fill="#059669" stroke="white" strokeWidth="1.5" />
                                    </g>
                                </svg>
                                <div className="text-[10px] text-gray-300 text-center font-bold mt-2">å¤šæ–¹åå•†ã€è§„åˆ™çº¦æŸã€å…±æ‹…</div>
                            </div>

                            {/* 3. PPP (Synergy) */}
                            <div className="border border-purple-500/30 bg-purple-500/5 rounded-2xl p-4 flex flex-col items-center justify-between shadow-lg">
                                <div className="text-[11px] text-purple-400 font-black uppercase tracking-widest self-start mb-2">3. å…¬ç§ä¼™ä¼´ (PPP)</div>
                                <div className="flex items-center gap-4 h-16 w-full justify-center">
                                    <div className="w-14 h-14 border-2 border-purple-400 rounded-full flex items-center justify-center text-3xl bg-purple-900/40 shadow-xl">ğŸ›ï¸</div>
                                    <div className="text-yellow-400 text-2xl font-black">âœš</div>
                                    <div className="w-14 h-14 border-2 border-purple-400 rounded-full flex items-center justify-center text-3xl bg-white/5 shadow-xl">ğŸ¢</div>
                                </div>
                                <div className="text-[10px] text-gray-300 text-center font-bold mt-2">æ”¿åºœæˆæƒ + å¸‚åœºæ•ˆç‡</div>
                            </div>

                            {/* 4. Knowledge Spillover (Decentralized) */}
                            <div className="border border-yellow-500/30 bg-yellow-500/5 rounded-2xl p-4 flex flex-col items-center justify-between shadow-lg">
                                <div className="text-[11px] text-yellow-400 font-black uppercase tracking-widest self-start mb-2">4. çŸ¥è¯†æº¢å‡ºæ¨¡å¼</div>
                                <svg viewBox="0 0 100 60" className="w-full h-16 drop-shadow-xl">
                                    <circle cx="50" cy="30" r="7" fill="#f59e0b" stroke="white" strokeWidth="1.5" />
                                    <circle cx="50" cy="30" r="15" stroke="#f59e0b" fill="none" strokeWidth="1" className="animate-ping opacity-40" />
                                    <circle cx="50" cy="30" r="28" stroke="#f59e0b" fill="none" strokeWidth="1" className="animate-ping opacity-20" />
                                    <text x="50" y="34" textAnchor="middle" fill="white" fontSize="8" fontWeight="black">OPEN</text>
                                </svg>
                                <div className="text-[10px] text-gray-300 text-center font-bold mt-2">å¼€æºæœºåˆ¶ã€éæ’ä»–ã€è‡ªç„¶æ‰©æ•£</div>
                            </div>
                        </div>
                    );
                case "brain_gear":
                    return (
                        <div className="flex flex-col h-full gap-4 justify-center p-4 items-center select-none">
                            {/* Processor Flow */}
                            <div className="flex items-center gap-4 w-full">
                                <div className="flex-1 bg-white/5 border border-white/20 p-4 rounded-2xl text-center shadow-xl backdrop-blur-sm">
                                    <div className="text-xs text-blue-300 font-black mb-2 uppercase tracking-tighter">1. åå¥½è¾“å…¥</div>
                                    <div className="text-3xl mb-2">ğŸ’° ğŸ›¡ï¸</div>
                                    <div className="text-[10px] text-gray-400 font-bold">å›½å®¶åˆ©ç›Š/ç”Ÿå­˜</div>
                                </div>

                                <div className="text-blue-500/40 animate-pulse">
                                    <svg width="28" height="28" fill="currentColor" viewBox="0 0 24 24"><path d="M13 17h-2v-4H7v-2h4V7h2v4h4v2h-4v4z" /></svg>
                                </div>

                                <div className="flex-1 bg-blue-500/10 border border-blue-400/30 p-4 rounded-2xl text-center relative overflow-hidden shadow-inner">
                                    <div className="text-xs text-purple-300 font-black mb-2 uppercase tracking-tighter">2. ç†æ€§æ ¸ç®—</div>
                                    <div className="relative h-12 flex items-center justify-center">
                                        <div className="absolute inset-0 flex items-center justify-center opacity-30">
                                            <svg className="w-10 h-10 animate-spin" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path></svg>
                                        </div>
                                        <span className="text-sm font-black font-mono text-purple-400">B &gt; C?</span>
                                    </div>
                                    <div className="text-[10px] text-gray-400 font-bold">æˆæœ¬æ”¶ç›Šåˆ†æ</div>
                                </div>

                                <div className="text-purple-500/40 animate-pulse">
                                    <svg width="28" height="28" fill="currentColor" viewBox="0 0 24 24"><path d="M13 17h-2v-4H7v-2h4V7h2v4h4v2h-4v4z" /></svg>
                                </div>

                                <div className="flex-1 bg-green-500/10 border border-green-400/30 p-4 rounded-2xl text-center shadow-xl">
                                    <div className="text-xs text-green-300 font-black mb-2 uppercase tracking-tighter">3. å†³æ–­è¾“å‡º</div>
                                    <div className="text-3xl mb-2">ğŸ¯</div>
                                    <div className="text-[10px] text-gray-400 font-bold">æ•ˆç”¨æœ€å¤§åŒ–</div>
                                </div>
                            </div>


                            {/* Methodological Values */}
                            <div className="mt-4 w-full bg-gradient-to-r from-white/5 to-white/10 rounded-xl p-4 border border-white/20 grid grid-cols-3 gap-2">
                                <div className="text-center p-2 bg-blue-500/10 rounded-lg">
                                    <div className="text-blue-400 text-sm font-bold">ç†è®ºç®€çº¦</div>
                                    <div className="text-xs text-gray-400 mt-1">Parsimony</div>
                                    <div className="text-[10px] text-gray-500">å‰¥ç¦»å¹²æ‰°å› ç´ </div>
                                </div>
                                <div className="text-center p-2 bg-purple-500/10 rounded-lg border-x border-white/10">
                                    <div className="text-purple-400 text-sm font-bold">é€»è¾‘ç²¾ç¡®</div>
                                    <div className="text-xs text-gray-400 mt-1">Precision</div>
                                    <div className="text-[10px] text-gray-500">ä¸¥å¯†æ•°å­¦æ¨å¯¼</div>
                                </div>
                                <div className="text-center p-2 bg-green-500/10 rounded-lg">
                                    <div className="text-green-400 text-sm font-bold">è·¨ç•Œæ™®é€‚</div>
                                    <div className="text-xs text-gray-400 mt-1">Universality</div>
                                    <div className="text-[10px] text-gray-500">é€‚ç”¨å¤šé¢†åŸŸ</div>
                                </div>
                            </div>
                        </div>
                    );
                case "sustainable_venn":
                    return (
                        <div className="relative h-full w-full flex items-center justify-center p-2">
                            <svg viewBox="0 0 240 240" className="w-full h-full">
                                {/* The Triangle Base */}
                                <path d="M120,30 L210,180 L30,180 Z" fill="none" stroke="white" strokeWidth="2" strokeDasharray="6" opacity="0.2" />
                                {/* Three Pillars */}
                                <g transform="translate(120,45)">
                                    <circle r="40" fill="rgba(59, 130, 246, 0.3)" stroke="#3b82f6" strokeWidth="3" />
                                    <text dy="-5" textAnchor="middle" fill="#93c5fd" fontSize="14" fontWeight="bold">ç¤¾ä¼š</text>
                                    <text dy="12" textAnchor="middle" fill="#60a5fa" fontSize="10">Social</text>
                                </g>
                                <g transform="translate(200,170)">
                                    <circle r="40" fill="rgba(245, 158, 11, 0.3)" stroke="#f59e0b" strokeWidth="3" />
                                    <text dy="-5" textAnchor="middle" fill="#fcd34d" fontSize="14" fontWeight="bold">ç»æµ</text>
                                    <text dy="12" textAnchor="middle" fill="#fbbf24" fontSize="10">Economic</text>
                                </g>
                                <g transform="translate(40,170)">
                                    <circle r="40" fill="rgba(16, 185, 129, 0.3)" stroke="#10b981" strokeWidth="3" />
                                    <text dy="-5" textAnchor="middle" fill="#6ee7b7" fontSize="14" fontWeight="bold">ç¯å¢ƒ</text>
                                    <text dy="12" textAnchor="middle" fill="#34d399" fontSize="10">Environ</text>
                                </g>
                                {/* Center */}
                                <circle cx="120" cy="130" r="28" fill="white" className="animate-pulse" opacity="0.9" />
                                <text x="120" y="127" textAnchor="middle" fill="#0f172a" fontSize="12" fontWeight="black">å¯æŒç»­</text>
                                <text x="120" y="140" textAnchor="middle" fill="#334155" fontSize="9">Sustainable</text>
                                {/* Labels */}
                                <text x="160" y="95" fill="#93c5fd" fontSize="10" textAnchor="middle" transform="rotate(55 160 95)">å…¬å¹³æ€§</text>
                                <text x="80" y="95" fill="#6ee7b7" fontSize="10" textAnchor="middle" transform="rotate(-55 80 95)">æŒç»­æ€§</text>
                                <text x="120" y="200" fill="#fcd34d" fontSize="10" textAnchor="middle">å…±åŒæ€§</text>
                            </svg>
                        </div>
                    );
                case "science_nodes":
                    return (
                        <div className="relative h-full w-full flex items-center justify-center select-none">
                            <svg viewBox="0 0 240 240" className="w-full h-full">
                                {/* 4. Guarantee: Encompassing Ring (åä½œ) */}
                                <g transform="translate(120,120)">
                                    <path d="M-95,0 A95,95 0 1,1 95,0 A95,95 0 1,1 -95,0" fill="none" stroke="#818cf8" strokeWidth="2" strokeDasharray="8 4" className="animate-[spin_15s_linear_infinite]" />
                                    <circle r="95" fill="none" stroke="rgba(129, 140, 248, 0.1)" strokeWidth="12" />

                                    {/* Guarantee Badge - Refined and repositioned to top-right corner */}
                                    <g transform="translate(65, -85)">
                                        <rect x="-65" y="-12" width="130" height="24" rx="12" fill="rgba(15, 23, 42, 0.9)" stroke="#818cf8" strokeWidth="1.5" />
                                        <text textAnchor="middle" y="4" fill="white" style={{ fontSize: '9px', fontWeight: 'bold' }}>
                                            ğŸ›¡ï¸ ä¿éšœ <tspan style={{ fontSize: '7px', fontWeight: 'normal', fill: 'rgba(255,255,255,0.8)' }} dx="2">(åä½œï¼šå¼€æ”¾å…±äº«)</tspan>
                                        </text>
                                    </g>
                                </g>

                                {/* 1. Base: Pedestal (æ±‚å®) */}
                                <g transform="translate(120,215)">
                                    <path d="M-60,0 L60,0 L75,20 L-75,20 Z" fill="#3b82f6" stroke="white" strokeWidth="2" />
                                    <rect x="-30" y="4" width="60" height="12" rx="4" fill="rgba(255,255,255,0.2)" />
                                    <text y="14" textAnchor="middle" fill="white" style={{ fontSize: '11px', fontWeight: 'bold' }}>ğŸ›ï¸ æ±‚å® (åŸºç¡€)</text>
                                </g>

                                {/* 2. Power: Gear Engine (æ‰¹åˆ¤) */}
                                <g transform="translate(120,145)">
                                    <g className="animate-[spin_8s_linear_infinite]">
                                        <circle r="35" fill="none" stroke="#ef4444" strokeWidth="4" strokeDasharray="10 6" />
                                        <circle r="25" fill="#ef4444" fillOpacity="0.2" stroke="#ef4444" strokeWidth="2" />
                                        {[0, 45, 90, 135, 180, 225, 270, 315].map(deg => (
                                            <rect key={deg} x="-5" y="-42" width="10" height="12" fill="#ef4444" transform={`rotate(${deg})`} />
                                        ))}
                                    </g>
                                    <circle r="18" fill="#0f172a" stroke="#ef4444" strokeWidth="2" />
                                    <text y="2" textAnchor="middle" fill="#fca5a5" style={{ fontSize: '10px', fontWeight: 'bold' }}>âš™ï¸ æ‰¹åˆ¤</text>
                                    <text y="12" textAnchor="middle" fill="#fca5a5" style={{ fontSize: '8px' }}>(åŠ¨åŠ›)</text>
                                </g>

                                {/* 3. Soul: Lightbulb (åˆ›æ–°) */}
                                <g transform="translate(120,70)">
                                    <circle r="30" fill="url(#bulbGlow)" opacity="0.6" className="animate-pulse" />
                                    <defs>
                                        <radialGradient id="bulbGlow" cx="50%" cy="50%" r="50%">
                                            <stop offset="0%" stopColor="#fbbf24" stopOpacity="0.8" />
                                            <stop offset="100%" stopColor="#fbbf24" stopOpacity="0" />
                                        </radialGradient>
                                    </defs>
                                    <path d="M-15,0 C-15,-20 15,-20 15,0 C15,10 8,15 8,25 L-8,25 C-8,15 -15,10 -15,0 Z" fill="#fbbf24" stroke="white" strokeWidth="2" />
                                    <path d="M-5,5 L0,0 L5,5" fill="none" stroke="#b45309" strokeWidth="2" />
                                    <rect x="-8" y="25" width="16" height="6" fill="#9ca3af" />
                                    <rect x="-8" y="31" width="16" height="6" fill="#9ca3af" />
                                    <text x="35" y="10" fill="#fbbf24" style={{ fontSize: '11px', fontWeight: 'bold' }}>ğŸ’¡ åˆ›æ–°</text>
                                    <text x="35" y="22" fill="#fde047" style={{ fontSize: '9px' }}>(çµé­‚)</text>
                                </g>
                            </svg>
                        </div>
                    );
                case "tech_function_hub":
                    return (
                        <div className="relative h-full w-full flex items-center justify-center p-2">
                            <svg viewBox="0 0 240 240" className="w-full h-full">
                                {/* Central Engine */}
                                <g transform="translate(120,120)">
                                    <circle r="40" fill="rgba(255,255,255,0.1)" stroke="white" strokeWidth="3" strokeDasharray="6" />
                                    <text dy="-5" textAnchor="middle" fill="white" fontSize="14" fontWeight="bold">ç§‘å­¦æŠ€æœ¯</text>
                                    <text dy="12" textAnchor="middle" fill="#fbbf24" fontSize="10">ç¬¬ä¸€ç”Ÿäº§åŠ›</text>
                                </g>
                                {/* Spreading Impact */}
                                <g transform="translate(120,40)">
                                    <circle r="30" fill="#3b82f6" />
                                    <text dy="-3" textAnchor="middle" fill="white" fontSize="14">ğŸ’°</text>
                                    <text dy="12" textAnchor="middle" fill="white" fontSize="11" fontWeight="bold">ç»æµ</text>
                                </g>
                                <g transform="translate(200,120)">
                                    <circle r="30" fill="#ef4444" />
                                    <text dy="-3" textAnchor="middle" fill="white" fontSize="14">âš–ï¸</text>
                                    <text dy="12" textAnchor="middle" fill="white" fontSize="11" fontWeight="bold">æ”¿æ²»</text>
                                </g>
                                <g transform="translate(120,200)">
                                    <circle r="30" fill="#8b5cf6" />
                                    <text dy="-3" textAnchor="middle" fill="white" fontSize="14">ğŸ§ </text>
                                    <text dy="12" textAnchor="middle" fill="white" fontSize="11" fontWeight="bold">æ–‡åŒ–</text>
                                </g>
                                <g transform="translate(40,120)">
                                    <circle r="30" fill="#10b981" />
                                    <text dy="-3" textAnchor="middle" fill="white" fontSize="14">ğŸŒ¿</text>
                                    <text dy="12" textAnchor="middle" fill="white" fontSize="11" fontWeight="bold">ç”Ÿæ€</text>
                                </g>
                                {/* Connecting Lines */}
                                <line x1="120" y1="80" x2="120" y2="70" stroke="white" strokeWidth="2" />
                                <line x1="160" y1="120" x2="170" y2="120" stroke="white" strokeWidth="2" />
                                <line x1="120" y1="160" x2="120" y2="170" stroke="white" strokeWidth="2" />
                                <line x1="80" y1="120" x2="70" y2="120" stroke="white" strokeWidth="2" />
                            </svg>
                        </div>
                    );
                case "oil_scale":
                    return (
                        <div className="w-full h-full flex flex-col items-center justify-center p-3 select-none">
                            {/* Title */}
                            <div className="text-amber-400 font-black text-xs uppercase tracking-widest mb-3">æ²¹ä»·å½¢æˆå››å¤§å½±å“å› ç´ </div>

                            <div className="relative w-full flex-1 flex items-center justify-center">
                                {/* Center: Oil Barrel */}
                                <div className="relative z-20">
                                    <div className="w-20 h-20 rounded-full bg-gradient-to-br from-amber-500 via-orange-500 to-red-600 flex items-center justify-center shadow-[0_0_40px_rgba(251,191,36,0.4)] border-2 border-amber-300/50">
                                        <div className="text-3xl">ğŸ›¢ï¸</div>
                                    </div>
                                    <div className="absolute -bottom-6 left-1/2 -translate-x-1/2 whitespace-nowrap text-[10px] text-amber-300 font-bold bg-slate-900/80 px-2 py-0.5 rounded-full border border-amber-500/30">
                                        å›½é™…æ²¹ä»·
                                    </div>
                                </div>

                                {/* Factor 1: Supply-Demand (Top-Left) */}
                                <div className="absolute top-[22%] left-[22%] group">
                                    <div className="relative">
                                        <div className="absolute inset-0 bg-red-500/30 rounded-2xl blur-xl group-hover:bg-red-500/50 transition-all"></div>
                                        <div className="relative bg-gradient-to-br from-red-600/90 to-red-800/90 backdrop-blur border border-red-400/30 rounded-2xl p-3 shadow-xl transform group-hover:scale-105 transition-all">
                                            <div className="flex items-center gap-2 mb-1">
                                                <span className="text-xl">âš–ï¸</span>
                                                <span className="text-red-200 font-black text-sm">ä¾›éœ€åŸºæœ¬é¢</span>
                                            </div>
                                            <div className="text-[9px] text-red-300/80 leading-relaxed">
                                                <div>â€¢ OPECäº§é‡å†³ç­–</div>
                                                <div>â€¢ å…¨çƒç»æµå¢é•¿</div>
                                            </div>
                                        </div>
                                    </div>
                                    {/* Connector line */}
                                    <svg className="absolute bottom-[-12px] right-[-16px] w-8 h-5 overflow-visible" style={{ zIndex: -1 }}>
                                        <path d="M0,0 Q10,6 20,12" fill="none" stroke="#ef4444" strokeWidth="2" strokeDasharray="4" opacity="0.6" />
                                        <circle cx="20" cy="12" r="2.5" fill="#ef4444" className="animate-pulse" />
                                    </svg>
                                </div>

                                {/* Factor 2: Geopolitics (Top-Right) */}
                                <div className="absolute top-[22%] right-[22%] group">
                                    <div className="relative">
                                        <div className="absolute inset-0 bg-blue-500/30 rounded-2xl blur-xl group-hover:bg-blue-500/50 transition-all"></div>
                                        <div className="relative bg-gradient-to-br from-blue-600/90 to-blue-800/90 backdrop-blur border border-blue-400/30 rounded-2xl p-3 shadow-xl transform group-hover:scale-105 transition-all">
                                            <div className="flex items-center gap-2 mb-1">
                                                <span className="text-xl">ğŸŒ</span>
                                                <span className="text-blue-200 font-black text-sm">åœ°ç¼˜æ”¿æ²»</span>
                                            </div>
                                            <div className="text-[9px] text-blue-300/80 leading-relaxed">
                                                <div>â€¢ æˆ˜äº‰ä¸å†²çª</div>
                                                <div>â€¢ ç»æµåˆ¶è£</div>
                                            </div>
                                        </div>
                                    </div>
                                    {/* Connector line */}
                                    <svg className="absolute bottom-[-12px] left-[-16px] w-8 h-5 overflow-visible" style={{ zIndex: -1 }}>
                                        <path d="M20,0 Q10,6 0,12" fill="none" stroke="#3b82f6" strokeWidth="2" strokeDasharray="4" opacity="0.6" />
                                        <circle cx="0" cy="12" r="2.5" fill="#3b82f6" className="animate-pulse" />
                                    </svg>
                                </div>

                                {/* Factor 3: Financial (Bottom-Left) */}
                                <div className="absolute bottom-[22%] left-[22%] group">
                                    <div className="relative">
                                        <div className="absolute inset-0 bg-emerald-500/30 rounded-2xl blur-xl group-hover:bg-emerald-500/50 transition-all"></div>
                                        <div className="relative bg-gradient-to-br from-emerald-600/90 to-emerald-800/90 backdrop-blur border border-emerald-400/30 rounded-2xl p-3 shadow-xl transform group-hover:scale-105 transition-all">
                                            <div className="flex items-center gap-2 mb-1">
                                                <span className="text-xl">ğŸ’µ</span>
                                                <span className="text-emerald-200 font-black text-sm">é‡‘èå› ç´ </span>
                                            </div>
                                            <div className="text-[9px] text-emerald-300/80 leading-relaxed">
                                                <div>â€¢ ç¾å…ƒæ±‡ç‡æ³¢åŠ¨</div>
                                                <div>â€¢ æœŸè´§å¸‚åœºæŠ•æœº</div>
                                            </div>
                                        </div>
                                    </div>
                                    {/* Connector line */}
                                    <svg className="absolute top-[-12px] right-[-16px] w-8 h-5 overflow-visible" style={{ zIndex: -1 }}>
                                        <path d="M0,12 Q10,6 20,0" fill="none" stroke="#10b981" strokeWidth="2" strokeDasharray="4" opacity="0.6" />
                                        <circle cx="20" cy="0" r="2.5" fill="#10b981" className="animate-pulse" />
                                    </svg>
                                </div>

                                {/* Factor 4: Technology (Bottom-Right) - NEW! */}
                                <div className="absolute bottom-[22%] right-[22%] group">
                                    <div className="relative">
                                        <div className="absolute inset-0 bg-purple-500/30 rounded-2xl blur-xl group-hover:bg-purple-500/50 transition-all"></div>
                                        <div className="relative bg-gradient-to-br from-purple-600/90 to-purple-800/90 backdrop-blur border border-purple-400/30 rounded-2xl p-3 shadow-xl transform group-hover:scale-105 transition-all">
                                            <div className="flex items-center gap-2 mb-1">
                                                <span className="text-xl">ğŸ”§</span>
                                                <span className="text-purple-200 font-black text-sm">æŠ€æœ¯è¿›æ­¥</span>
                                            </div>
                                            <div className="text-[9px] text-purple-300/80 leading-relaxed">
                                                <div>â€¢ é¡µå²©æ²¹é©å‘½</div>
                                                <div>â€¢ æ–°èƒ½æºæ›¿ä»£</div>
                                            </div>
                                        </div>
                                    </div>
                                    {/* Connector line */}
                                    <svg className="absolute top-[-12px] left-[-16px] w-8 h-5 overflow-visible" style={{ zIndex: -1 }}>
                                        <path d="M20,12 Q10,6 0,0" fill="none" stroke="#a855f7" strokeWidth="2" strokeDasharray="4" opacity="0.6" />
                                        <circle cx="0" cy="0" r="2.5" fill="#a855f7" className="animate-pulse" />
                                    </svg>
                                </div>

                                {/* Decorative rotating ring */}
                                <div className="absolute inset-0 flex items-center justify-center pointer-events-none">
                                    <div className="w-32 h-32 rounded-full border border-dashed border-white/10 animate-[spin_20s_linear_infinite]"></div>
                                </div>
                            </div>
                        </div>
                    );
                case "waterways_map":
                    return (
                        <div className="relative w-full h-full rounded-xl overflow-hidden border border-white/10">
                            <img src="assets/world_map.png" className="absolute inset-0 w-full h-full object-cover opacity-60" />
                            {/* Dots overlay approx positions based on standard world map */}
                            {/* Hormuz (ME) */}
                            <div className="absolute top-[48%] left-[62%] w-3 h-3 bg-red-500 rounded-full animate-ping"></div>
                            <div className="absolute top-[48%] left-[62%] w-3 h-3 bg-red-500 rounded-full border border-white flex items-center justify-center group cursor-pointer">
                                <span className="hidden group-hover:block absolute -top-8 bg-black/80 px-2 py-1 rounded text-[10px] whitespace-nowrap">1.éœå°”æœ¨å…¹</span>
                            </div>

                            {/* Malacca (SE Asia) */}
                            <div className="absolute top-[58%] left-[78%] w-3 h-3 bg-red-500 rounded-full animate-ping delay-100"></div>
                            <div className="absolute top-[58%] left-[78%] w-3 h-3 bg-red-500 rounded-full border border-white group">
                                <span className="hidden group-hover:block absolute -top-8 bg-black/80 px-2 py-1 rounded text-[10px] whitespace-nowrap">2.é©¬å…­ç”²</span>
                            </div>

                            {/* Suez (Egypt) */}
                            <div className="absolute top-[45%] left-[55%] w-3 h-3 bg-red-500 rounded-full animate-ping delay-200"></div>
                            <div className="absolute top-[45%] left-[55%] w-3 h-3 bg-red-500 rounded-full border border-white group">
                                <span className="hidden group-hover:block absolute -top-8 bg-black/80 px-2 py-1 rounded text-[10px] whitespace-nowrap">3.è‹ä¼Šå£«</span>
                            </div>

                            {/* Bab el-Mandeb (Yemen/Djibouti) */}
                            <div className="absolute top-[53%] left-[57%] w-3 h-3 bg-red-500 rounded-full animate-ping delay-300"></div>
                            <div className="absolute top-[53%] left-[57%] w-3 h-3 bg-red-500 rounded-full border border-white group">
                                <span className="hidden group-hover:block absolute -bottom-8 bg-black/80 px-2 py-1 rounded text-[10px] whitespace-nowrap">4.æ›¼å¾·æµ·å³¡</span>
                            </div>

                            {/* Turkish Straits */}
                            <div className="absolute top-[38%] left-[55%] w-3 h-3 bg-red-500 rounded-full animate-ping delay-400"></div>
                            <div className="absolute top-[38%] left-[55%] w-3 h-3 bg-red-500 rounded-full border border-white group">
                                <span className="hidden group-hover:block absolute -top-8 bg-black/80 px-2 py-1 rounded text-[10px] whitespace-nowrap">5.åœŸè€³å…¶æµ·å³¡</span>
                            </div>

                            {/* Panama */}
                            <div className="absolute top-[55%] left-[23%] w-3 h-3 bg-red-500 rounded-full animate-ping delay-500"></div>
                            <div className="absolute top-[55%] left-[23%] w-3 h-3 bg-red-500 rounded-full border border-white group">
                                <span className="hidden group-hover:block absolute -top-8 bg-black/80 px-2 py-1 rounded text-[10px] whitespace-nowrap">6.å·´æ‹¿é©¬</span>
                            </div>
                        </div>
                    );
                case "trump_paris_exit":
                    return (
                        <div className="flex flex-col h-full gap-4 justify-center p-4 select-none">
                            <div className="flex items-center justify-center mb-2">
                                <div className="px-6 py-2 bg-red-600 rounded-lg border-2 border-white shadow-[0_0_15px_rgba(239,68,68,0.5)] transform -rotate-3 hover:rotate-0 transition-transform duration-300">
                                    <span className="text-xl font-black text-white tracking-widest">EXIT</span>
                                </div>
                                <div className="ml-3 flex flex-col">
                                    <span className="text-[10px] text-gray-400 font-bold uppercase tracking-wider">Withdrawal from</span>
                                    <span className="text-xs text-blue-300 font-black tracking-wide">PARIS AGREEMENT</span>
                                </div>
                            </div>
                            <div className="grid grid-cols-2 gap-3 w-full max-w-[300px] mx-auto">
                                <div className="bg-blue-900/20 border border-blue-500/30 p-3 rounded-xl flex flex-col items-center text-center hover:bg-blue-900/40 transition-colors">
                                    <span className="text-2xl mb-1 drop-shadow-lg">ğŸ‡ºğŸ‡¸</span>
                                    <span className="text-xs font-bold text-blue-300 mb-0.5">ç¾å›½ä¼˜å…ˆ</span>
                                    <span className="text-[8px] text-gray-400 leading-tight">åˆ¶é€ ä¸š/èƒ½æºåˆ©ç›Š</span>
                                </div>
                                <div className="bg-purple-900/20 border border-purple-500/30 p-3 rounded-xl flex flex-col items-center text-center hover:bg-purple-900/40 transition-colors">
                                    <span className="text-2xl mb-1 drop-shadow-lg">ğŸ‘‘</span>
                                    <span className="text-xs font-bold text-purple-300 mb-0.5">ä¸»æƒå›å½’</span>
                                    <span className="text-[8px] text-gray-400 leading-tight">æ‹’å—å›½é™…çº¦æŸ</span>
                                </div>
                                <div className="bg-orange-900/20 border border-orange-500/30 p-3 rounded-xl flex flex-col items-center text-center hover:bg-orange-900/40 transition-colors">
                                    <span className="text-2xl mb-1 drop-shadow-lg">âš–ï¸</span>
                                    <span className="text-xs font-bold text-orange-300 mb-0.5">åˆ©ç›Šåšå¼ˆ</span>
                                    <span className="text-[8px] text-gray-400 leading-tight">å¯¹ä¸­å°é™åˆ¶å°‘</span>
                                </div>
                                <div className="bg-gray-800/40 border border-gray-500/30 p-3 rounded-xl flex flex-col items-center text-center hover:bg-gray-800/60 transition-colors">
                                    <span className="text-2xl mb-1 drop-shadow-lg">ğŸ¤”</span>
                                    <span className="text-xs font-bold text-gray-300 mb-0.5">æ€€ç–‘è®º</span>
                                    <span className="text-[8px] text-gray-400 leading-tight">ä¼ªå‘½é¢˜/é˜´è°‹</span>
                                </div>
                            </div>
                        </div>
                    );
                default:
                    return (
                        <svg viewBox="0 0 100 100" className="w-full h-full opacity-20">
                            <rect width="100" height="100" fill="rgba(255,255,255,0.1)" />
                            <text x="50" y="55" fill="white" fontSize="10" textAnchor="middle">CONCEPT</text>
                        </svg>
                    );
            }
        };


        // --- Main App Component ---

        const App = () => {
            const [currentSlideIndex, setCurrentSlideIndex] = useState(0);
            const [revealStep, setRevealStep] = useState(0); // For line-by-line reveal
            // Flatten data for linear navigation
            // [ {type:'cover'}, {type:'course', title:'...'}, {type:'question', data:...} ]

            const [slides, setSlides] = useState([]);

            // Build slides on mount
            useEffect(() => {
                let generatedSlides = [{ type: 'cover' }];
                DATA.forEach(course => {
                    generatedSlides.push({ type: 'course_intro', title: course.course });
                    course.items.forEach(item => {
                        generatedSlides.push({ type: 'question', data: item, courseTitle: course.course });
                    });
                });
                setSlides(generatedSlides);
            }, []);

            const currentSlide = slides[currentSlideIndex];

            // Navigation Logic
            const next = () => {
                if (!currentSlide) return;

                if (currentSlide.type === 'question') {
                    // Check if we need to reveal more points
                    const totalPoints = currentSlide.data.points.length;
                    if (revealStep < totalPoints) {
                        setRevealStep(prev => prev + 1);
                        return;
                    }
                }

                // Go to next slide
                if (currentSlideIndex < slides.length - 1) {
                    setCurrentSlideIndex(prev => prev + 1);
                    setRevealStep(0); // Reset reveal for next slide
                }
            };

            const prev = () => {
                if (currentSlideIndex > 0) {
                    setCurrentSlideIndex(prev => prev - 1);
                    setRevealStep(0);
                }
            };

            const jumpToSlide = (pageNum) => {
                const targetIdx = parseInt(pageNum) - 1;
                if (!isNaN(targetIdx) && targetIdx >= 0 && targetIdx < slides.length) {
                    setCurrentSlideIndex(targetIdx);
                    setRevealStep(0);
                }
            };

            // Keyboard/Click handlers
            useEffect(() => {
                const handleKeyDown = (e) => {
                    if (e.key === 'ArrowRight' || e.key === ' ' || e.key === 'Enter') {
                        next();
                    } else if (e.key === 'ArrowLeft') {
                        prev();
                    }
                };
                window.addEventListener('keydown', handleKeyDown);
                return () => window.removeEventListener('keydown', handleKeyDown);
            }, [currentSlideIndex, revealStep, slides]); // Dependencies crucial for state

            if (!currentSlide) return <div className="h-screen flex items-center justify-center text-white">Loading...</div>;

            // --- Render Logic ---

            return (
                <div
                    className="h-[100svh] w-screen relative overflow-hidden flex flex-col items-center justify-center bg-slate-950"
                    onClick={() => next()} // Tap to advance
                >
                    {/* Background Animation */}
                    <div className="absolute inset-0 -z-10 bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900"></div>
                    <div className="absolute top-0 left-0 w-96 h-96 bg-purple-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"></div>
                    <div className="absolute top-0 right-0 w-96 h-96 bg-yellow-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"></div>
                    <div className="absolute -bottom-8 left-20 w-96 h-96 bg-pink-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"></div>

                    {/* Top Controls: Fullscreen */}
                    <div className="absolute top-4 right-4 md:top-6 md:right-8 flex items-center gap-4 z-50">
                        <button
                            onClick={(e) => {
                                e.stopPropagation();
                                if (!document.fullscreenElement) {
                                    document.documentElement.requestFullscreen();
                                } else {
                                    if (document.exitFullscreen) {
                                        document.exitFullscreen();
                                    }
                                }
                            }}
                            className="p-2 md:p-3 rounded-xl bg-white/5 hover:bg-white/10 backdrop-blur-xl border border-white/10 transition-all group relative"
                            title="å…¨å±æ¨¡å¼"
                        >
                            <svg className="w-4 h-4 md:w-5 md:h-5 text-white/70" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 4l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"></path>
                            </svg>
                        </button>
                    </div>

                    {/* Progress Bar */}
                    <div className="absolute top-0 left-0 h-1 bg-green-400 z-50 transition-all duration-300"
                        style={{ width: `${((currentSlideIndex + 1) / slides.length) * 100}%` }}></div>

                    {/* Slide Content */}
                    <main className="w-full max-w-[1600px] px-4 md:px-6 flex flex-col items-center justify-center h-full pt-12 pb-24 md:py-0">

                        {/* COVER SLIDE */}
                        {currentSlide.type === 'cover' && (
                            <div className="text-center slide-enter-active space-y-4 md:space-y-8 px-4">
                                <div className="inline-block p-3 md:p-4 rounded-full bg-white/10 mb-4 md:mb-6 backdrop-blur">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="text-blue-300 md:w-[48px] md:h-[48px]"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z" /><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z" /></svg>
                                </div>
                                <h1 className="text-4xl md:text-7xl font-black mb-2 md:mb-4 tracking-tight">
                                    <span className="gradient-text">æ ¸å¿ƒå¤ä¹ é¢˜æ±‡æ€»</span>
                                </h1>
                                <p className="text-lg md:text-xl text-gray-300 font-light px-4">å…­é—¨è¯¾ç¨‹ Â· æ ¸å¿ƒè€ƒç‚¹ Â· æç®€èƒŒè¯µ</p>
                                <div className="mt-8 md:mt-12 text-xs text-gray-400 animate-pulse">ç‚¹å‡»æˆ–æŒ‰ç©ºæ ¼é”®å¼€å§‹</div>
                            </div>
                        )}

                        {/* COURSE INTRO SLIDE */}
                        {currentSlide.type === 'course_intro' && (
                            <div className="text-center slide-enter-active px-6 flex flex-col items-center">
                                <h2 className="text-2xl md:text-5xl font-bold text-white mb-4 md:mb-6 border-b-2 border-blue-500 pb-3 md:pb-4 inline-block">
                                    {currentSlide.title}
                                </h2>
                                <p className="text-gray-400 text-base md:text-lg">æœ¬ç« åŒ…å« 2 ä¸ªç®€ç­”é¢˜ + 1 ä¸ªè®ºè¿°é¢˜</p>
                            </div>
                        )}

                        {/* QUESTION SLIDE */}
                        {currentSlide.type === 'question' && (
                            <div className="w-full flex flex-col md:flex-row gap-4 md:gap-6 items-stretch h-full max-h-[85vh] md:h-[80vh] overflow-hidden">
                                {/* Left: Visual Aid */}
                                <div className={`flex-[0.8] md:flex-1 glass-panel rounded-2xl md:rounded-3xl p-3 md:p-6 flex flex-col items-center justify-center transition-all duration-700 ${revealStep > 0 ? 'opacity-100 scale-100' : 'opacity-20 scale-95'}`}>
                                    <div className="w-full h-full relative p-2 md:p-4 flex items-center justify-center overflow-hidden">
                                        <div className="w-full h-full max-h-[40vh] md:max-h-[65vh]">
                                            <VisualPlaceholder type={currentSlide.data.visualType} revealStep={revealStep} />
                                        </div>
                                    </div>
                                    <div className="hidden md:block text-sm font-medium text-gray-400 mt-4 px-6 py-2 bg-white/5 rounded-full backdrop-blur-sm border border-white/10 uppercase tracking-widest">
                                        Visual Logic â€¢ å›¾è§£è¾…åŠ©
                                    </div>
                                </div>

                                {/* Right: Content */}
                                <div className="flex-1 md:w-[450px] md:flex-none flex flex-col glass-panel rounded-2xl md:rounded-3xl p-4 md:p-8 overflow-hidden shadow-2xl border border-white/10">
                                    {/* Header */}
                                    <div className="mb-3 md:mb-6 border-b border-white/10 pb-2 md:pb-4">
                                        <div className="text-[10px] md:text-xs font-mono text-blue-300 mb-1 md:mb-2 uppercase tracking-wider flex justify-between items-center">
                                            <span>{currentSlide.courseTitle.split('ã€')[1]}</span>
                                            <span className="px-2 py-0.5 bg-blue-500/20 rounded-md border border-blue-500/30 text-[9px]">{currentSlide.data.type}</span>
                                        </div>
                                        <h3 className="text-lg md:text-2xl font-bold leading-tight text-white drop-shadow-sm">
                                            {currentSlide.data.question}
                                        </h3>
                                    </div>

                                    {/* Points List */}
                                    <div className="flex-1 space-y-3 md:space-y-4 overflow-y-auto pr-1 md:pr-2 custom-scrollbar">
                                        {currentSlide.data.points.map((point, idx) => (
                                            <div
                                                key={idx}
                                                className={`point-item p-3 md:p-4 rounded-xl border-l-4 transition-all duration-500 transform ${idx < revealStep ? 'visible-point border-blue-500 bg-white/5 translate-x-0' : 'hidden-point border-transparent translate-x-4'
                                                    }`}
                                            >
                                                <div className="text-sm md:text-lg leading-relaxed text-gray-100 font-normal">{point}</div>
                                            </div>
                                        ))}
                                    </div>

                                    {/* Hint */}
                                    <div className="mt-3 md:mt-6 pt-2 md:pt-4 border-t border-white/10">
                                        <div className={`text-center py-2 rounded-lg text-[10px] md:text-xs font-medium transition-colors ${revealStep < currentSlide.data.points.length ? "text-blue-400 bg-blue-400/10" : "text-green-400 bg-green-400/10"}`}>
                                            {revealStep < currentSlide.data.points.length ? "â†“â†“ ç‚¹å‡»å±å¹•ä¸‹ä¸€è€ƒç‚¹ â†“â†“" : "ğŸ ç‚¹å‡»è¿›å…¥ä¸‹ä¸€é¢˜"}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}

                    </main>

                    {/* Progress Dots with Page Jumper */}
                    <div className="absolute bottom-4 md:bottom-6 left-1/2 -translate-x-1/2 flex items-center gap-4 md:gap-6 z-50 px-3 md:px-4 py-1.5 md:py-2 bg-white/5 backdrop-blur-xl rounded-xl md:rounded-2xl border border-white/10 shadow-2xl max-w-[95vw] overflow-hidden">
                        <div className="hidden sm:flex gap-1.5 item-center">
                            {slides.map((_, i) => (
                                <div
                                    key={i}
                                    onClick={(e) => { e.stopPropagation(); jumpToSlide(i + 1); }}
                                    className={`h-1.5 cursor-pointer transition-all duration-300 rounded-full ${i === currentSlideIndex ? 'w-6 bg-blue-400' : 'w-1.5 bg-white/20 hover:bg-white/40'}`}
                                />
                            ))}
                        </div>
                        <div className="hidden sm:block h-4 w-px bg-white/10"></div>
                        <div className="flex items-center gap-2">
                            <input
                                type="text"
                                className="w-8 md:w-10 bg-white/10 border border-white/20 rounded-md text-[10px] py-0.5 text-center text-white font-black focus:outline-none focus:border-blue-500 transition-colors"
                                defaultValue={currentSlideIndex + 1}
                                key={currentSlideIndex} // Re-render when slide changes
                                onKeyDown={(e) => {
                                    if (e.key === 'Enter') {
                                        jumpToSlide(e.target.value);
                                        e.target.blur();
                                    }
                                    e.stopPropagation();
                                }}
                                onClick={(e) => e.stopPropagation()}
                            />
                            <span className="text-[10px] font-black text-white/40 tracking-widest">/ {slides.length}</span>
                        </div>
                    </div>

                    {/* Navigation Hints - Hidden on mobile */}
                    <div className="hidden md:flex absolute bottom-6 right-8 items-center gap-4 text-white/20 text-[10px] font-bold uppercase tracking-widest pointer-events-none">
                        <span>L/R Arrows</span>
                        <div className="flex gap-1">
                            <div className="px-1.5 py-0.5 border border-white/10 rounded">â†</div>
                            <div className="px-1.5 py-0.5 border border-white/10 rounded">â†’</div>
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>

</html>